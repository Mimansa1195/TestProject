<style>
    .m-t-5 {
        margin-top: 5px;
    }
</style>

<div class="container-fluid">
    <section class="card">
        <div class="card-block">
            <h5 class="with-border m-t-0">Cab Request</h5>
            <div class="row" id="divLeave">
                <div class="col-xl-12 col-lg-12">
                    <section class="tabs-section">
                        <div class="tabs-section-nav tabs-section-nav-left">
                            <ul class="nav" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" href="#tabPendingAndApprovedCabRequest" role="tab" data-toggle="tab">
                                        <span class="nav-link-in text-green">Pending/Approved</span>
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link" href="#tabFinalized" role="tab" data-toggle="tab">
                                        <span class="nav-link-in text-green">Finalized</span>
                                    </a>
                                </li>
                            </ul>
                        </div><!--.tabs-section-nav-->
                        <div class="tab-content no-styled profile-tabs">
                            <div role="tabpanel" class="tab-pane active" id="tabPendingAndApprovedCabRequest">
                                <section class="box-typical box-typical-padding">
                                    <div class="row form-body">
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label class="control-label">
                                                    Date<span class="spnError">*</span>
                                                    <button class="btn btn-sm btn-default pull-right" id="btnChangeTo" type="button">Change To &nbsp;<i id="dateSelectType" class="fa fa-calendar"></i></button>
                                                </label>
                                                <div id="DivDateText" style="display:none;">
                                                    <div class="inputGroupContainer date date-picker" id="txtDate">
                                                        <div class="input-group">
                                                            <input type="text" class="form-control  validation-required" name="txtDate">
                                                            <span class=" input-group-btn">
                                                                <button class="btn default" type="button"><i class="fa fa-calendar"></i></button>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group" id="divDllDate" style="display:none;">
                                                    <select class="form-control multiselect multipleSelect select-validate validation-required" multiple="multiple" id="ddlDateSelect"></select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-3 m-t-5">
                                            <label class="control-label ">Company Location</label>
                                            <div class="form-group">
                                                <select class="form-control multiselect multipleSelect select-validate validation-required" multiple="multiple" id="ddlCompanyLocation"></select>
                                            </div>
                                        </div>
                                        <div class="col-md-3 m-t-5">
                                            <label class="control-label ">Service Type</label>
                                            <div class="form-group">
                                                <select class="form-control multiselect multipleSelect select-validate validation-required" multiple="multiple" id="ddlServiceType"></select>
                                            </div>
                                        </div>
                                        <div class="col-md-3 m-t-5">
                                            <label class="control-label ">Cab Timing</label>
                                            <div class="form-group">
                                                <select class="form-control multiselect multipleSelect select-validate validation-required" multiple="multiple" id="ddlShift"></select>
                                            </div>
                                        </div>
                                        <div class="col-md-9">
                                            <label class="control-label ">Cab Routes</label>
                                            <div class="form-group">
                                                <select class="form-control multiselect multipleSelect select-validate validation-required" multiple="multiple" id="ddlCabRoute"></select>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group  m-t-22">
                                                <button type="button" class="btn btn-success" id="btnSearchCabRequest"><i class="fa fa-search"></i>&nbsp; Search</button>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class='gridViewBody gridViewContainerBorder'>
                                                <table id="tblFinalizeCabRequest" class="table table-bordered table-hover display table-striped" role="grid" aria-describedby="example1-info"></table>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="text-center" id="divFinalizeBulkCabRequest">
                                            </div>
                                        </div>
                                    </div>
                                </section>
                            </div>
                            <div role="tabpanel" class="tab-pane" id="tabFinalized">
                                <section class="box-typical box-typical-padding">
                                    <div class="row form-body">
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label class="control-label">
                                                    Date<span class="spnError">*</span>
                                                    <button class="btn btn-sm btn-default pull-right" id="btnChangeToForFinalized" type="button">Change To &nbsp;<i id="dateSelectTypeForFinalized" class="fa fa-calendar"></i></button>
                                                </label>
                                                <div id="DivDateTextForFinalized" style="display:none;">
                                                    <div class="inputGroupContainer date date-picker" id="txtDateForFinalized">
                                                        <div class="input-group">
                                                            <input type="text" class="form-control  validation-required" name="txtDateForFinalized">
                                                            <span class=" input-group-btn">
                                                                <button class="btn default" type="button"><i class="fa fa-calendar"></i></button>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group" id="divDllDateForFinalized" style="display:none;">
                                                    <select class="form-control multiselect multipleSelect select-validate validation-required" multiple="multiple" id="ddlDateSelectForFinalized"></select>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-3 m-t-5">
                                            <label class="control-label ">Company Location</label>
                                            <div class="form-group">
                                                <select class="form-control multiselect multipleSelect select-validate validation-required" multiple="multiple" id="ddlCompanyLocationForFinalized"></select>
                                            </div>
                                        </div>
                                        <div class="col-md-3 m-t-5">
                                            <label class="control-label ">Service Type</label>
                                            <div class="form-group">
                                                <select class="form-control multiselect multipleSelect select-validate validation-required" multiple="multiple" id="ddlServiceTypeForFinalized"></select>
                                            </div>
                                        </div>
                                        <div class="col-md-3 m-t-5">
                                            <label class="control-label ">Cab Timing</label>
                                            <div class="form-group">
                                                <select class="form-control multiselect multipleSelect select-validate validation-required" multiple="multiple" id="ddlShiftForFinalized"></select>
                                            </div>
                                        </div>
                                        <div class="col-md-9">
                                            <label class="control-label">Cab Routes</label>
                                            <div class="form-group">
                                                <select class="form-control multiselect multipleSelect select-validate validation-required" multiple="multiple" id="ddlCabRouteForFinalized"></select>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group m-t-22">
                                                <button type="button" class="btn btn-success" id="btnSearchFinalizedCabRequest"><i class="fa fa-search"></i>&nbsp; Search</button>
                                            </div>
                                        </div>
                                        </div>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class='gridViewBody gridViewContainerBorder'>
                                                <table id="tblFinalizedRequest" class="table table-bordered table-hover display table-striped" role="grid" aria-describedby="example1-info"></table>
                                            </div>
                                        </div>
                                    </div>
                                </section>
                            </div>
                        </div><!--.tab-content-->
                    </section><!--.tabs-section-->
                </div>
            </div>
        </div>
    </section>
</div>

<div id="mypopupBulkFinalize" class="modal fade" role="dialog" aria-labelledby="mypopupBulkFinalize" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 id="modalTitle" class="modal-title">Finalize Cab Requests<span id="popupfor"></span></h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        <label><b>Selected Employees: </b><span id="employeesNames"></span></label>
                    </div>
                </div>
                <br/>
                <div class="row">
                    <div class="col-md-6">
                        <label class="control-label ">Company Location</label>
                        <div class="form-group">
                            <select class="form-control multiselect multipleSelect" multiple="multiple" id="ddlCompanyLocationForDriver"></select>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <label class="control-label">Vehicle</label>
                        <div class="form-group">
                            <select type="text" class="form-control select2 validation-required" id="ddlVehicle"> </select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <input type="checkbox" id="driverType" name="driverType" data-toggle="toggle" data-on="New Driver" data-off="Existing Driver" data-onstyle="success" data-offstyle="info" data-size="small" data-width="170">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-6" id="divExistingDriver" style="display:none;">
                        <label class="control-label">Driver Name</label>
                        <div class="form-group">
                            <select type="text" class="form-control select2 validation-required" id="ddlDriver"> </select>
                        </div>
                    </div>

                    <div class="form-group col-md-6" id="divNewDriver" style="display:none;">
                        <label class="control-label">Driver Name</label>
                        <div class="form-group">
                            <input type="text" class="form-control validation-required" id="textDriver" />
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <label class="control-label">Driver Contact No.</label>
                        <input type="text" maxlength="10" class="form-control validation-required" id="driverContactNo" onkeypress="return isNumber(event)" />
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="finalizeBulkCabRequest" type="button" class="btn btn-success"><i class="fa fa-"></i>&nbsp;Finalize </button>
                <button id="btnCloseBulk" type="button" class="btn btn-default"><i class="fa fa-times"></i>&nbsp;Close </button>
            </div>
        </div>
    </div>
</div>

<div id="mypopupCabRequestRemark" class="modal fade" role="dialog" aria-labelledby="mypopupCabRequestRemark" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Remarks</h4>
            </div>
            <div class="container margin-top-10">
                <div class="form-group col-md-12">
                    <textarea rows="6" cols="2000" id="cabRequestRemark" maxlength="500" placeholder="Enter reason for WFH" class="form-control validation-required"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" data-dismiss="modal" class="btn btn-default"><i class="fa fa-times"></i>&nbsp;Close</button>
            </div>
        </div>
    </div>
</div>

<div id="mypopupReviewCabrequestRemark" class="modal fade" role="dialog" aria-labelledby="mypopupReviewCabrequestRemark" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Remarks</h4>
                <input type="hidden" id="hdnCabRequestId" />
            </div>
            <div class="container margin-top-10" id="">
                <div class="form-group col-md-12">
                    <textarea rows="6" cols="2000" id="txtCabRequestRemark" maxlength="500" placeholder="Please enter remarks here" class="form-control validation-required"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button id="btnRejectCabRequest" style="display:none;" type="button" class="btn btn-danger"><i class="fa fa-times"></i>&nbsp;Reject</button>
                <button id="btnApproveCabRequest" style="display:none;" type="button" class="btn btn-success"><i class="fa fa-check"></i>&nbsp;Approve</button>
                <button type="button" data-dismiss="modal" class="btn btn-default"><i class="fa fa-times"></i>&nbsp;Close </button>
            </div>
        </div>
    </div>
</div>

<script src="~/Scripts/app/CabManagement/finalizeRequest.js?v=1.9"></script>



