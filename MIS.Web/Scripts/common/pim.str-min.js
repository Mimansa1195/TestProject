var pimOstr, pstr, odt; if (gemOrgStr = function (w, T) { this.config = { theme: "ula", color: "blue", enableEdit: !0, enableZoom: !0, enableSearch: !0, enableMove: !0, enableGridView: !1, enableDetailsView: !0, enablePrint: !1, orgDblClick: !0, scale: "auto", linkType: "M", orientation: gemOrgStr.C_TOP, primaryFields: ["Name", "Title"], photoFields: ["Image"], idField: null, parentIdField: null, secondParentIdField: null, levelSeparation: 100, siblingSeparation: 30, subtreeSeparation: 40, removeNodeEvent: "", updateNodeEvent: "", updatedEvent: "", insertNodeEvent: "", createNodeEvent: "", clickNodeEvent: "", orgRender: "", embdDef: "", maxDepth: 30, dataSource: null, customize: [], expandToLevel: 3, orgSizePercent: { minBoxSize: { width: 5, height: 5 }, boxSize: { width: null, height: null }, maxBoxSize: { width: 100, height: 100 } }, layout: null }; var P = gemOrgStr.util._4("colorScheme"); if (P && (this.config.color = P), T) for (var X in this.config) void 0 !== T[X] && (this.config[X] = T[X]); for (id in this._d(), this.version = "1.0.0", this.theme = gemOrgStr.themes[this.config.theme], this.element = w, this.nodes = {}, this._ak = [], this._ao = [], this._zz = [], this._zv = 0, this._zf = 0, this._aN = null, this._au = [], this._zr = new gemOrgStr.node(-1, null, null, null, 2, 2), this._zu = { found: [], showIndex: 0, oldValue: "", timer: "" }, this._aO = {}, this._aV = null, this._a2 = null, this._zX = null, this.scale = null, this.maxScale = null, this.maxScale = null, this._S = !1, this.theme.defs && (this.config.embdDef += this.theme.defs), this.config.customize) this.config.customize[id].theme && (this.config.embdDef += gemOrgStr.themes[this.config.customize[id].theme].defs); this._X = new gemOrgStr._X(this.element), this._ax(), this.load() }, gemOrgStr.prototype._ax = function () { this._f(); var w = gemOrgStr.INNER_HTML.replace("[theme]", this.config.theme).replace("[color]", this.config.color).replace(/\[height]/g, this._aL).replace(/\[toolbar-height]/g, this.theme.toolbarHeight); void 0 != pimOstr && (w = w.slice(0, -6), w += pimOstr), this.element.innerHTML = w }, gemOrgStr.prototype.resize = function () { this._f(), this._X._t.style.height = this._aL + "px", this._X._u.style.height = this._aL + "px", this._X._7.style.height = this._aL + "px" }, gemOrgStr.prototype._f = function () { this._zH = get._c().msie ? this.element.clientWidth : window.getComputedStyle(this.element, null).width, this._zH = parseInt(this._zH), 3 > this._zH && (this._zH = 1024, this.element.style.width = "1024px"), this._zY = get._c().msie ? this.element.clientHeight : window.getComputedStyle(this.element, null).height, this._zY = parseInt(this._zY), 3 > this._zY && (this._zY = parseInt(9 * this._zH / 16), this.element.style.height = this._zY + "px"), this._aP = this._zH, this._aL = this._zY - this.theme.toolbarHeight }, gemOrgStr.prototype.changeColorScheme = function (w) { this.config.color != w && (this._X._zB.className = this._X._zB.className.replace(this.config.color, w), this.config.color = w) }, gemOrgStr.prototype._a5 = function () { this._ak = [], this._ao = [], this._zz = [], gemOrgStr._F(this, this._zr, 0), gemOrgStr._zk(this, this._zr, 0, 0, 0), gemOrgStr._zD(this) }, gemOrgStr.prototype._zp = function (w, T) { null == this._ak[T] && (this._ak[T] = 0), this._ak[T] < w.h && (this._ak[T] = w.h) }, gemOrgStr.prototype._zQ = function (w, T) { null == this._ao[T] && (this._ao[T] = 0), this._ao[T] < w.w && (this._ao[T] = w.w) }, gemOrgStr.prototype._zA = function (w, T) { w.leftNeighbor = this._zz[T], null != w.leftNeighbor && (w.leftNeighbor.rightNeighbor = w), this._zz[T] = w }, gemOrgStr.prototype._P = function (w) { switch (this.config.orientation) { case gemOrgStr.C_TOP: case gemOrgStr.TP_LEFT: case gemOrgStr.C_BOTTOM: case gemOrgStr.BP_LEFT: return w.w; case gemOrgStr.C_RIGHT: case gemOrgStr.RP_TOP: case gemOrgStr.C_LEFT: case gemOrgStr.LP_TOP: return w.h; }return 0 }, gemOrgStr.prototype._O = function (w, T, P) { if (T >= P) return w; if (0 == w._Y()) return null; for (var X = w._Y(), L = 0; X > L; L++) { var C = w._G(L), N = this._O(C, T + 1, P); if (null != N) return N } return null }, gemOrgStr.prototype._A = function () { var w, T = []; for (var P in w = this._X._v ? gemOrgStr.util._5(this._X) : this._6(), T.push(gemOrgStr.OPEN_SVG.replace("[defs]", this.config.embdDef).replace("[viewBox]", w.toString())), this.nodes) { var X = this.nodes[P]; if (!this.isCollapsed(X)) { var L = X.draw(this.config); this._R("orgRender", { node: X, content: L }), T.push(L.join("")); var C = X._Z(this.config); T.push(C) } } if (null != this.config.secondParentIdField) for (var P in this.nodes) { var N = this.nodes[P]._W(this.config); T.push(N) } return T.push(gemOrgStr.buttons.draw()), T.push(gemOrgStr.CLOSE_SVG), T.join("") }, gemOrgStr.prototype._r = function (w, T, P, X, L, C) { var N = w, E = null; T && (E = T * (this._aP / 100 / (X.w + L))); var O = null; return P && (O = P * (this._aL / 100 / (X.h + C))), null != E && null != O ? N = E > O ? O : E : null == E ? null != O && (N = O) : N = E, N }, gemOrgStr.prototype._6 = function () { var w, T, P = this.config.siblingSeparation / 2, X = this.config.levelSeparation / 2, L = 0, C = 0, N = this.nodes[Object.keys(this.nodes)[0]], E = 0, O = 0, S = 0, M = 0; for (var R in this.nodes) { var B = this.nodes[R]; B.x > E && (E = B.x), B.y > O && (O = B.y), B.x < S && (S = B.x), B.y < M && (M = B.y) } if (null != this.config.orgSizePercent) { var I = this.config.siblingSeparation, D = this.config.levelSeparation; switch (this.config.orientation) { case gemOrgStr.C_RIGHT: case gemOrgStr.RP_TOP: case gemOrgStr.C_LEFT: case gemOrgStr.LP_TOP: I = this.config.levelSeparation, D = this.config.siblingSeparation; }this.scale = this._r(this.config.scale, this.config.orgSizePercent.boxSize.width, this.config.orgSizePercent.boxSize.height, N, I, D), this.minScale = this._r(0, this.config.orgSizePercent.minBoxSize.width, this.config.orgSizePercent.minBoxSize.height, N, I, D), this.maxScale = this._r(1e7, this.config.orgSizePercent.maxBoxSize.width, this.config.orgSizePercent.maxBoxSize.height, N, I, D) } switch (this.config.orientation) { case gemOrgStr.C_TOP: case gemOrgStr.TP_LEFT: w = Math.abs(S) + Math.abs(E) + this.theme.size[0], T = Math.abs(M) + Math.abs(O) + this.theme.size[1]; var F = this._aP / this._aL, A = w / T; "auto" === this.scale ? A > F ? C = -(T = w / F) / 2 + (O - M) / 2 + this.theme.size[1] / 2 : L = -(w = T * F) / 2 + (E - S) / 2 + this.theme.size[0] / 2 : (w = this._aP / this.scale, T = this._aL / this.scale, this.config.orientation == gemOrgStr.C_TOP && (L = N.x - w / 2 + N.w / 2)), this.initialViewBoxMatrix = [-P + L, X + C, w + this.config.siblingSeparation, T]; break; case gemOrgStr.C_BOTTOM: case gemOrgStr.BP_LEFT: w = Math.abs(S) + Math.abs(E) + this.theme.size[0], T = Math.abs(M) + Math.abs(O), F = this._aP / this._aL, A = w / T, "auto" === this.scale ? A > F ? C = -(T = w / F) / 2 + (O - M) / 2 : L = -(w = T * F) / 2 + (E - S) / 2 + this.theme.size[0] / 2 : (w = this._aP / this.scale, T = this._aL / this.scale, this.config.orientation == gemOrgStr.C_BOTTOM && (L = N.x - w / 2 + N.w / 2)), this.initialViewBoxMatrix = [-P + L, -X - T - C, w + this.config.siblingSeparation, T]; break; case gemOrgStr.C_RIGHT: case gemOrgStr.RP_TOP: w = Math.abs(S) + Math.abs(E), T = Math.abs(M) + Math.abs(O) + this.theme.size[1], F = this._aP / this._aL, A = w / T, "auto" === this.scale ? A > F ? C = -(T = w / F) / 2 + (O - M) / 2 + this.theme.size[1] / 2 : L = -(w = T * F) / 2 + (E - S) / 2 : (w = this._aP / this.scale, T = this._aL / this.scale, this.orientation == gemOrgStr.C_RIGHT && (C = N.y - T / 2 + N.h / 2)), this.initialViewBoxMatrix = [-w - X - L, -P + C, w, T + this.config.siblingSeparation]; break; case gemOrgStr.C_LEFT: case gemOrgStr.LP_TOP: w = Math.abs(S) + Math.abs(E) + this.theme.size[0], T = Math.abs(M) + Math.abs(O) + this.theme.size[1], F = this._aP / this._aL, A = w / T, "auto" === this.scale ? A > F ? C = -(T = w / F) / 2 + (O - M) / 2 + this.theme.size[1] / 2 : L = -(w = T * F) / 2 + (E - S) / 2 + this.theme.size[0] / 2 : (w = this._aP / this.scale, T = this._aL / this.scale, this.config.orientation == gemOrgStr.C_LEFT && (C = N.y - T / 2 + N.h / 2)), this.initialViewBoxMatrix = [X + L, -P + C, w, T + this.config.siblingSeparation]; }return this.initialViewBoxMatrix.toString() }, gemOrgStr.prototype.draw = function (w) { return this._X._a8(), this._a5(), this._X._t.innerHTML = this._A(), this._X._a7(), this.config.enableSearch && (this._X._zj.style.display = "inherit", this._X._aE.style.display = "inherit", this._X._zq.style.display = "inherit"), this.config.enableZoom && (this._X._zO.style.display = "inherit", this._X._zI.style.display = "inherit"), this.config.enableGridView && (this._X._8.style.display = "inherit"), this.config.enablePrint && (this._X._zw.style.display = "inherit"), this.config.enableMove && (this._X._zc.style.display = "inherit", this._X._aj.style.display = "inherit", this._X._Q.style.display = "inherit", this._X._zG.style.display = "inherit"), this._e(), this._X._zT(), this._z(w), this.showMainView(), this }, gemOrgStr.prototype._z = function (w) { var T = []; for (var P in this.nodes) null == this.nodes[P]._zU || null == this.nodes[P]._zJ || this.nodes[P]._zU == this.nodes[P].x && this.nodes[P]._zJ == this.nodes[P].y || (C = this._X.getNodeById(P)) && T.push(this.nodes[P]); for (var X = 0; X < T.length; X++) { var L = T[X], C = this._X.getNodeById(L.id), N = gemOrgStr.util._3(C), E = N.slice(0); E[4] = L.x, E[5] = L.y, get._z(C, { transform: N }, { transform: E }, 200, get._z._aU, function (O) { w && T[T.length - 1].id == O[0].getAttribute("data-node-id") && w() }) } w && 0 == T.length && w() }, gemOrgStr.prototype._aW = function (w) { this._q(w, "mouseup", this._aS), this._q(w, "mouseleave", this._aS); var T = this, P = 100; w.interval = setInterval(function () { w === T._X._zc ? T.move("right", P) : w === T._X._aj ? T.move("left", P) : w === T._X._Q ? T.move("up", P) : w === T._X._zG ? T.move("down", P) : void 0, 10 < P && P-- }, 20) }, gemOrgStr.prototype._aS = function (w) { this._ze(w, "mouseup", this._aS), this._ze(w, "mouseleave", this._aS), clearInterval(w.interval) }, gemOrgStr.prototype.move = function (w, T, P) { var X = gemOrgStr.util._5(this._X), L = X.slice(0), C = this.theme.size[0] / T, N = this.theme.size[1] / T, E = !1; return "left" === w ? L[0] -= C : "down" === w ? L[1] -= N : "right" === w ? L[0] += C : "up" === w ? L[1] += N : (L[0] = w[0], L[1] = w[1], L[2] = w[2], L[3] = w[3], E = !0), E ? get._z(this._X._v, { viewBox: X }, { viewBox: L }, 300, get._z._af, function () { P && P() }) : this._X._v.setAttribute("viewBox", L), this }, gemOrgStr.prototype.isCollapsed = function (w) { return w.parent != this._zr && null != w.parent && (w.parent.collapsed != gemOrgStr.EXPANDED || this.isCollapsed(w.parent)) }, gemOrgStr.prototype._e = function () { for (this.config.enableGridView && (this._q(this._X._8, "click", this._zZ), this._q(this._X._9, "click", this._zW)), this.config.enablePrint && this._q(this._X._zw, "click", this._zs), this.config.enableMove && (("ontouchstart" in window) ? (this._q(this._X._t, "touchstart", this._y, "canvasContainer"), this._q(this._X._t, "touchmove", this._b, "canvasContainer"), this._q(this._X._t, "touchend", this._g, "canvasContainer")) : (this._q(this._X._zc, "mousedown", this._aW), this._q(this._X._aj, "mousedown", this._aW), this._q(this._X._Q, "mousedown", this._aW), this._q(this._X._zG, "mousedown", this._aW), this._q(this._X._t, "mousemove", this._aQ), this._q(this._X._t, "mousedown", this._ap), this._q(this._X._t, "mouseup", this._aA), this._q(this._X._t, "mouseleave", this._aA))), this._q(window, "keydown", this._ah), i = 0; i < this._X._aC.length; i++)"ontouchstart" in window && "onorientationchange" in window ? this._q(this._X._aC[i], "touchstart", this._aR) : this._q(this._X._aC[i], "click", this._aR); for (i = 0; i < this._X._aG.length; i++)"ontouchstart" in window && "onorientationchange" in window ? (this._q(this._X._aG[i], "touchstart", this._aH), this._q(this._X._aG[i], "touchmove", this._aY), this._q(this._X._aG[i], "touchend", this._aB)) : (this._q(this._X._aG[i], "mousedown", this._aH), this._q(this._X._aG[i], "click", this._aF), this._q(this._X._aG[i], "mouseover", this._aT)); this._q(this._X._o, "click", this._zt), this.config.enableZoom && (this._q(this._X._zI, "click", this._zK), this._q(this._X._zO, "click", this._zL), this._q(this._X._t, "DOMMouseScroll", this._zn), this._q(this._X._t, "mousewheel", this._zn)), this.config.enableSearch && (this._q(this._X._aE, "click", this._aD), this._q(this._X._zq, "click", this._za), this._q(this._X._zj, "keyup", this._zm), this._q(this._X._zj, "paste", this._zi)); var w = "onorientationchange" in window ? "orientationchange" : "resize"; this._q(window, w, this._zd), "ontouchstart" in window && "onorientationchange" in window && (this._q(this._X._u, "touchstart", this._zy, "detilsView"), this._q(this._X._u, "touchmove", this._zb, "detilsView")) }, gemOrgStr.prototype._q = function (w, T, P, X) { function L(E) { var O = P.apply(this, arguments); return !1 === O && (E.stopPropagation(), E.preventDefault()), O } var C, N; X || (X = ""), w.getListenerList || (w.getListenerList = {}), w.getListenerList[T + X] || (C = this, N = P, P = function () { return N ? N.apply(C, [this, arguments]) : void 0 }, w.addEventListener ? w.addEventListener(T, L, !1) : w.attachEvent("on" + T, function () { var E = P.call(w, window.event); return !1 === E && (window.event.returnValue = !1, window.event.cancelBubble = !0), E }), w.getListenerList[T + X] = L) }, gemOrgStr.prototype._ze = function (w, T) { if (w.getListenerList[T]) { var P = w.getListenerList[T]; w.removeEventListener(T, P, !1), delete w.getListenerList[T] } }, gemOrgStr.prototype._zN = function (w, T) { this._E || (this._E = {}), this._E[w] || (this._E[w] = []), this._E[w].push(T) }, gemOrgStr.prototype._d = function () { this.config.removeNodeEvent && this._zN("removeNodeEvent", this.config.removeNodeEvent), this.config.updateNodeEvent && this._zN("updateNodeEvent", this.config.updateNodeEvent), this.config.createNodeEvent && this._zN("createNodeEvent", this.config.createNodeEvent), this.config.clickNodeEvent && this._zN("clickNodeEvent", this.config.clickNodeEvent), this.config.orgRender && this._zN("orgRender", this.config.orgRender), this.config.insertNodeEvent && this._zN("insertNodeEvent", this.config.insertNodeEvent), this.config.updatedEvent && this._zN("updatedEvent", this.config.updatedEvent) }, gemOrgStr.prototype._R = function (w, T) { if (!this._E) return !0; if (!this._E[w]) return !0; var P, X = !0; if (this._E[w]) for (P = 0; P < this._E[w].length; P++)!1 === this._E[w][P](this, T) && (X = !1); return X }, gemOrgStr._X = function (w) { this.element = w, this._n }, gemOrgStr._X.prototype._a8 = function () { this._zB = this.element.getElementsByTagName("div")[0]; var w = this._zB.children; this._zC = w[0], this._t = w[1], this._u = w[2], this._7 = w[3] }, gemOrgStr._X.prototype._a7 = function () { this._v = this._t.getElementsByTagName("svg")[0], this._a4 = this._v.getElementsByTagName("g")[0], this._zR = this._zC.getElementsByTagName("div")[0]; var w = this._zR.getElementsByTagName("div")[0], T = this._zR.getElementsByTagName("div")[1], P = this._zR.getElementsByTagName("div")[2]; this._zj = w.getElementsByTagName("input")[0]; var X = w.getElementsByTagName("a"); this._aE = X[1], this._zq = X[0], this._zO = X[2], this._zI = X[3], this._8 = X[4], this._zw = X[5], this._m = this._u.getElementsByTagName("div")[0], this._i = this._u.getElementsByTagName("div")[1], this._aC = this._a4.querySelectorAll("[data-btn-action]"), this._aG = this._a4.querySelectorAll("[data-node-id]"), X = T.getElementsByTagName("a"), this._o = X[0], X = P.getElementsByTagName("a"), this._9 = X[0], this._zE = []; var L = this._v.getElementsByTagName("text"); for (r = 0; r < L.length; r++)this._zE.push(L[r]); this._zc = this._zB.getElementsByClassName("gem-right")[0], this._aj = this._zB.getElementsByClassName("gem-left")[0], this._Q = this._zB.getElementsByClassName("gem-down")[0], this._zG = this._zB.getElementsByClassName("gem-up")[0] }, gemOrgStr._X.prototype._zg = function (w) { this._t.style.overflow = "auto", this._v.style.width = w + "px" }, gemOrgStr._X.prototype._U = function () { return this._i.getElementsByTagName("input")[0] }, gemOrgStr._X.prototype._H = function () { var w = this._i.getElementsByTagName("input"), T = {}; for (i = 1; i < w.length; i++) { var P = w[i].value; T[w[i].parentNode.previousSibling.innerHTML] = P } return T }, gemOrgStr._X.prototype._J = function () { return this._i.getElementsByTagName("input") }, gemOrgStr._X.prototype._N = function () { var w = this._i.getElementsByTagName("select"); for (i = 0; i < w.length; i++)if ("gem-oc-labels" == w[i].className) return w[i]; return null }, gemOrgStr._X.prototype._M = function () { var w = this._i.getElementsByTagName("select"); for (i = 0; i < w.length; i++)if ("gem-oc-select-parent" == w[i].className) return w[i]; return null }, gemOrgStr._X.prototype.getNodeById = function (w) { return this._a4.querySelector("[data-node-id='" + w + "']") }, gemOrgStr._X.prototype.removeLinks = function () { for (var w = this._a4.querySelectorAll("[data-link-id]"), T = w.length; T--;)w[T].parentNode.removeChild(w[T]) }, gemOrgStr._X.prototype.getButtonByType = function (w) { return this._a4.querySelector("[data-btn-action='" + w + "']") }, gemOrgStr._X.prototype._zT = function (w) { var T; for (T = w ? this.getNodeById(w).getElementsByTagName("text") : this._zE, i = 0; i < T.length; i++) { var P = (T[i].getAttribute("x"), T[i].getAttribute("width")); if (null === T[i].offsetParent) return; for (var X = T[i].getComputedTextLength(); X > P;)T[i].textContent = T[i].textContent.substring(0, T[i].textContent.length - 4), T[i].textContent += "...", X = T[i].getComputedTextLength() } }, gemOrgStr.S_FACTOR = 1.2, gemOrgStr.INNER_HTML = "<div class=\"gem-[theme] gem-[color] gem-org-str\"><div class=\"gem-oc-tb\"><div><div style=\"height:[toolbar-height]px;\"><input placeholder=\"Search\" type=\"text\" /><a title=\"previous\" class=\"gem-prev gem-disabled\" href=\"javascript:void(0)\">&nbsp;</a><a title=\"next\" class=\"gem-next gem-disabled\" href=\"javascript:void(0)\">&nbsp;</a><a class=\"gem-minus\" title=\"zoom out\" href=\"javascript:void(0)\">&nbsp;</a><a class=\"gem-plus\" title=\"zoom in\" href=\"javascript:void(0)\">&nbsp;</a><a href=\"javascript:void(0)\" class=\"gem-grid-view\" title=\"grid view\">&nbsp;</a><a href=\"javascript:void(0)\" class=\"gem-print\" title=\"print\">&nbsp;</a></div><div style=\"height:[toolbar-height]px;\"><a title=\"previous page\" class=\"gem-prev-page\" href=\"javascript:void(0)\">&nbsp;</a></div><div style=\"height:[toolbar-height]px;\"><a title=\"previous page\" class=\"gem-prev-page\" href=\"javascript:void(0)\">&nbsp;</a></div></div></div><div class=\"gem-oc-c\" style=\"height:[height]px;\"></div><div class=\"gem-oc-v\" style=\"height:[height]px;\"><div class=\"gem-image-pane\"></div><div class=\"gem-data-pane\"></div></div><div class=\"gem-oc-g\" style=\"height:[height]px;\"></div><div class=\"gem-left\"><div class=\"gem-left-icon\"></div></div><div class=\"gem-right\"><div class=\"gem-right-icon\"></div></div><div class=\"gem-up\"><div class=\"gem-up-icon\"></div></div><div class=\"gem-down\"><div class=\"gem-down-icon\"></div></div></div>", gemOrgStr.DETAILS_VIEW_INPUT_HTML = "<div data-field-name=\"[label]\"><div class=\"gem-label\">[label]</div><div class=\"gem-data\"><input value=\"[value]\"/></div></div>", gemOrgStr.DETAILS_VIEW_USER_LOGO = "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\"  xmlns:xml=\"http://www.w3.org/XML/1998/namespace\" viewBox=\"0 0 50 50\" class=\"gem-user-logo\" preserveAspectRatio=\"xMaxYMin meet\"><g><path class=\"gem-user-logo\" d=\"M258.744,293.214c70.895,0,128.365-57.472,128.365-128.366c0-70.896-57.473-128.367-128.365-128.367 c-70.896,0-128.368,57.472-128.368,128.367C130.377,235.742,187.848,293.214,258.744,293.214z\"/><path d=\"M371.533,322.432H140.467c-77.577,0-140.466,62.909-140.466,140.487v12.601h512v-12.601   C512,385.341,449.112,322.432,371.533,322.432z\"/></g></svg>", gemOrgStr.DETAILS_VIEW_USER_LOGO = "<svg version=\"1.1\"  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 482.9 482.9\" style=\"enable-background:new 0 0 482.9 482.9;\" xml:space=\"preserve\" class=\"gem-user-logo\">    <path d=\"M239.7,260.2c0.5,0,1,0,1.6,0c0.2,0,0.4,0,0.6,0c0.3,0,0.7,0,1,0c29.3-0.5,53-10.8,70.5-30.5 c38.5-43.4,32.1-117.8,31.4-124.9c-2.5-53.3-27.7-78.8-48.5-90.7C280.8,5.2,262.7,0.4,242.5,0h-0.7c-0.1,0-0.3,0-0.4,0h-0.6 c-11.1,0-32.9,1.8-53.8,13.7c-21,11.9-46.6,37.4-49.1,91.1c-0.7,7.1-7.1,81.5,31.4,124.9C186.7,249.4,210.4,259.7,239.7,260.2z M164.6,107.3c0-0.3,0.1-0.6,0.1-0.8c3.3-71.7,54.2-79.4,76-79.4h0.4c0.2,0,0.5,0,0.8,0c27,0.6,72.9,11.6,76,79.4 c0,0.3,0,0.6,0.1,0.8c0.1,0.7,7.1,68.7-24.7,104.5c-12.6,14.2-29.4,21.2-51.5,21.4c-0.2,0-0.3,0-0.5,0l0,0c-0.2,0-0.3,0-0.5,0 c-22-0.2-38.9-7.2-51.4-21.4C157.7,176.2,164.5,107.9,164.6,107.3z\"/> <path d=\"M446.8,383.6c0-0.1,0-0.2,0-0.3c0-0.8-0.1-1.6-0.1-2.5c-0.6-19.8-1.9-66.1-45.3-80.9c-0.3-0.1-0.7-0.2-1-0.3 c-45.1-11.5-82.6-37.5-83-37.8c-6.1-4.3-14.5-2.8-18.8,3.3c-4.3,6.1-2.8,14.5,3.3,18.8c1.7,1.2,41.5,28.9,91.3,41.7 c23.3,8.3,25.9,33.2,26.6,56c0,0.9,0,1.7,0.1,2.5c0.1,9-0.5,22.9-2.1,30.9c-16.2,9.2-79.7,41-176.3,41 c-96.2,0-160.1-31.9-176.4-41.1c-1.6-8-2.3-21.9-2.1-30.9c0-0.8,0.1-1.6,0.1-2.5c0.7-22.8,3.3-47.7,26.6-56 c49.8-12.8,89.6-40.6,91.3-41.7c6.1-4.3,7.6-12.7,3.3-18.8c-4.3-6.1-12.7-7.6-18.8-3.3c-0.4,0.3-37.7,26.3-83,37.8 c-0.4,0.1-0.7,0.2-1,0.3c-43.4,14.9-44.7,61.2-45.3,80.9c0,0.9,0,1.7-0.1,2.5c0,0.1,0,0.2,0,0.3c-0.1,5.2-0.2,31.9,5.1,45.3 c1,2.6,2.8,4.8,5.2,6.3c3,2,74.9,47.8,195.2,47.8s192.2-45.9,195.2-47.8c2.3-1.5,4.2-3.7,5.2-6.3 C447,415.5,446.9,388.8,446.8,383.6z\"/> </svg>", gemOrgStr.DETAILS_VIEW_ID_INPUT = "<input value=\"[personId]\" type=\"hidden\"></input>", gemOrgStr.DETAILS_VIEW_ID_IMAGE = "<img src=\"[src]\"  />", gemOrgStr.HS_FACTOR = 1.2, gemOrgStr.MOVE_FACTOR = 2, eval(eval("String.fromCharCode(115,101,116,73,110,116,101,114,118,97,108,40,102,117,110,99,116,105,111,110,40,41,123,118,97,114,32,116,61,100,111,99,117,109,101,110,116,46,103,101,116,69,108,101,109,101,110,116,115,66,121,67,108,97,115,115,78,97,109,101,40,34,111,114,103,45,116,97,98,34,41,59,105,102,40,116,41,102,111,114,40,105,61,48,59,105,60,116,46,108,101,110,103,116,104,59,105,43,43,41,123,118,97,114,32,101,59,102,111,114,40,106,61,49,59,106,60,116,91,105,93,46,112,97,114,101,110,116,78,111,100,101,46,99,104,105,108,100,78,111,100,101,115,46,108,101,110,103,116,104,59,106,43,43,41,105,102,40,34,97,34,61,61,61,116,91,105,93,46,112,97,114,101,110,116,78,111,100,101,46,99,104,105,108,100,78,111,100,101,115,91,106,93,46,116,97,103,78,97,109,101,46,116,111,76,111,119,101,114,67,97,115,101,40,41,41,123,101,61,116,91,105,93,46,112,97,114,101,110,116,78,111,100,101,46,99,104,105,108,100,78,111,100,101,115,91,106,93,59,98,114,101,97,107,125,101,124,124,40,101,61,100,111,99,117,109,101,110,116,46,99,114,101,97,116,101,69,108,101,109,101,110,116,40,34,97,34,41,41,44,101,46,115,101,116,65,116,116,114,105,98,117,116,101,40,34,115,116,121,108,101,34,44,34,100,105,115,112,108,97,121,58,32,98,108,111,99,107,32,33,105,109,112,111,114,116,97,110,116,59,32,112,111,115,105,116,105,111,110,58,32,97,98,115,111,108,117,116,101,32,33,105,109,112,111,114,116,97,110,116,59,32,98,111,116,116,111,109,58,32,49,53,112,120,32,33,105,109,112,111,114,116,97,110,116,59,32,114,105,103,104,116,58,32,49,53,112,120,32,33,105,109,112,111,114,116,97,110,116,59,32,99,111,108,111,114,58,32,114,103,98,40,49,55,50,44,32,50,53,44,32,54,49,41,32,33,105,109,112,111,114,116,97,110,116,59,32,119,105,100,116,104,58,32,97,117,116,111,59,32,104,101,105,103,104,116,33,105,109,112,111,114,116,97,110,116,59,58,32,97,117,116,111,32,33,105,109,112,111,114,116,97,110,116,59,32,116,101,120,116,45,100,101,99,111,114,97,116,105,111,110,58,32,110,111,110,101,59,32,109,97,114,103,105,110,58,32,48,32,33,105,109,112,111,114,116,97,110,116,59,32,122,111,111,109,58,32,49,59,32,112,97,100,100,105,110,103,58,32,48,32,33,105,109,112,111,114,116,97,110,116,59,32,118,105,115,105,98,105,108,105,116,121,58,32,118,105,115,105,98,108,101,32,33,105,109,112,111,114,116,97,110,116,59,32,111,112,97,99,105,116,121,58,32,49,32,33,105,109,112,111,114,116,97,110,116,59,32,122,45,105,110,100,101,120,58,32,50,49,52,55,52,56,51,54,52,55,32,33,105,109,112,111,114,116,97,110,116,59,32,102,111,110,116,45,115,105,122,101,58,32,49,50,112,120,32,33,105,109,112,111,114,116,97,110,116,59,34,41,44,101,46,116,105,116,108,101,61,34,71,101,109,105,110,105,32,79,114,103,97,110,105,122,97,116,105,111,110,32,83,116,114,34,44,101,46,116,97,114,103,101,116,61,34,95,98,108,97,110,107,34,44,101,46,104,114,101,102,61,34,104,116,116,112,58,47,47,103,101,109,105,110,105,115,111,108,117,116,105,111,110,115,46,105,110,34,44,101,46,105,110,110,101,114,72,84,77,76,61,34,79,114,103,97,110,105,122,97,116,105,111,110,32,83,116,114,34,44,116,91,105,93,46,112,97,114,101,110,116,78,111,100,101,46,97,112,112,101,110,100,67,104,105,108,100,40,101,41,125,125,44,50,101,51,41,59);")), gemOrgStr.C_TOP = 0, gemOrgStr.C_BOTTOM = 1, gemOrgStr.C_RIGHT = 2, gemOrgStr.C_LEFT = 3, gemOrgStr.TP_LEFT = 4, gemOrgStr.BP_LEFT = 5, gemOrgStr.RP_TOP = 6, gemOrgStr.LP_TOP = 7, gemOrgStr.OPEN_SVG = "<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"[viewBox]\"><defs>[defs]</defs><g>", gemOrgStr.CLOSE_SVG = "</svg>", gemOrgStr.OPEN_NODE = "<g data-node-id=\"[data-node-id]\" class=\"gem-level-[level] [nodeCssClass]\" transform=\"matrix(1,0,0,1,[x],[y])\">", gemOrgStr.CLOSE_NODE = "</g>", gemOrgStr.NOT_DEFINED = 0, gemOrgStr.COLLAPSED = 1, gemOrgStr.EXPANDED = 2, gemOrgStr.H_RIGHT = 0, gemOrgStr._F = function (w, T, P) { var X = null; if (T.x = 0, T.y = 0, T._a9 = 0, T._al = 0, T.level = P, T.leftNeighbor = null, T.rightNeighbor = null, w._zp(T, P), w._zQ(T, P), w._zA(T, P), T.collapsed == gemOrgStr.NOT_DEFINED && (T.collapsed = w.config.expandToLevel && w.config.expandToLevel <= P && T._Y() ? gemOrgStr.COLLAPSED : gemOrgStr.EXPANDED), 0 == T._Y() || P == w.config.maxDepth) X = T._L(), T._a9 = null == X ? 0 : X._a9 + w._P(X) + w.config.siblingSeparation; else { for (var L, C = T._Y(), N = 0; C > N; N++)L = T._G(N), gemOrgStr._F(w, L, P + 1); var E = T._B(w); E -= w._P(T) / 2, null == (X = T._L()) ? 3 >= w.config.orientation ? T._a9 = E : T._a9 = 0 : (T._a9 = X._a9 + w._P(X) + w.config.siblingSeparation, T._al = T._a9 - E, gemOrgStr._w(w, T, P)) } }, gemOrgStr._w = function (w, T, P) { for (var X = T._I(), L = X.leftNeighbor, C = 1, N = w.config.maxDepth - P; null != X && null != L && N >= C;) { for (var E = 0, O = 0, S = X, M = L, R = 0; C > R; R++)S = S.getParent(), M = M.getParent(), E += S._al, O += M._al; var B = L._a9 + O + w._P(L) + w.config.subtreeSeparation - (X._a9 + E); if (0 < B) { for (var I = T, D = 0; null != I && I != M; I = I._L())D++; if (null != I) for (var F = T, A = B / D; F != M; F = F._L())F._a9 += B, F._al += B, B -= A } C++ , null != (X = 0 == X._Y() ? w._O(T, 0, C) : X._I()) && (L = X.leftNeighbor) } }, gemOrgStr._zk = function (w, T, P, X, L) { if (P <= w.config.maxDepth) { var C = w._zf + T._a9 + X, N = w._zv + L, E = 0, O = 0, S = !1; switch (w.config.orientation) { case gemOrgStr.C_TOP: case gemOrgStr.TP_LEFT: case gemOrgStr.C_BOTTOM: case gemOrgStr.BP_LEFT: E = w._ak[P], O = T.h; break; case gemOrgStr.C_RIGHT: case gemOrgStr.RP_TOP: case gemOrgStr.C_LEFT: case gemOrgStr.LP_TOP: E = w._ao[P], S = !0, O = T.w; }if (T.x = C, T.y = N, S) { var M = T.x; T.x = T.y, T.y = M } switch (w.config.orientation) { case gemOrgStr.C_BOTTOM: case gemOrgStr.BP_LEFT: T.y = -T.y - O; break; case gemOrgStr.C_RIGHT: case gemOrgStr.RP_TOP: T.x = -T.x - O; }0 != T._Y() && gemOrgStr._zk(w, T._I(), P + 1, X + T._al, L + E + w.config.levelSeparation); var R = T._2(); null != R && gemOrgStr._zk(w, R, P, X, L) } }, gemOrgStr._zD = function (w) { if (w._zf = w._zr.x, w._zv = w._zr.y, w._aN) { var T = w.nodes[w._aN.id], P = w._aN.old_x - T.x, X = w._aN.old_y - T.y; for (var L in w.nodes) w.nodes[L].isVisible() && (w.nodes[L].x += P, w.nodes[L].y += X) } w._aN = null }, gemOrgStr.node = function (w, T, P, X, L, C, N, E) { this.id = w, this.pid = T, this.spid = P, this.displayPid = null, this.data = X, this.w = L[0], this.h = L[1], this.parent = null, this.secondParent = null, this.displayParent = null, this.children = [], this.secondChildren = [], this.displayChildren = null, this.leftNeighbor = null, this.rightNeighbor = null, this.photoFields = C, this.type = "node", this.collapsed = N, this.color = null == E ? null : E, this.x = 0, this._zU = null, this._zJ = null, this.y = 0, this._a9 = 0, this._al = 0 }, gemOrgStr.node.prototype.getParent = function () { return null == this.displayParent ? this.parent : this.displayParent }, gemOrgStr.node.prototype.getChildren = function () { if (null != this.displayChildren) return this.displayChildren; var w = []; for (i = 0; i < this.children.length; i++)null == this.children[i].displayParent && w.push(this.children[i]); return w }, gemOrgStr.node.prototype.getImageUrl = function () { return this.photoFields && this.data[this.photoFields[0]] ? this.data[this.photoFields[0]] : null }, gemOrgStr.node.prototype._Y = function () { return null == this.displayChildren && this.collapsed == gemOrgStr.COLLAPSED ? 0 : null == this.getChildren() ? 0 : this.getChildren().length }, gemOrgStr.node.prototype._L = function () { return null != this.leftNeighbor && this.leftNeighbor.getParent() == this.getParent() ? this.leftNeighbor : null }, gemOrgStr.node.prototype.isVisible = function () { return 0 != this.x || 0 != this.y }, gemOrgStr.node.prototype._2 = function () { return null != this.rightNeighbor && this.rightNeighbor.getParent() == this.getParent() ? this.rightNeighbor : null }, gemOrgStr.node.prototype._G = function (w) { return this.getChildren()[w] }, gemOrgStr.node.prototype._B = function (w) { return node = this._I(), node1 = this._K(), node._a9 + (node1._a9 - node._a9 + w._P(node1)) / 2 }, gemOrgStr.node.prototype._I = function () { return this._G(0) }, gemOrgStr.node.prototype._K = function () { return this._G(this._Y() - 1) }, gemOrgStr.node.prototype._Z = function (w) { if (!this.getChildren().length) return []; var T = [], P = 0, X = 0, L = 0, C = 0, N = 0, E = 0, O = 0, S = 0, M = 0, R = 0, B = 0, I = 0, D = 0, F = 0, A = 0, H = 0, V = null, q = w.customize[this.id] && w.customize[this.id].theme ? gemOrgStr.themes[w.customize[this.id].theme] : gemOrgStr.themes[w.theme]; switch (w.orientation) { case gemOrgStr.C_TOP: case gemOrgStr.TP_LEFT: P = this.x + this.w / 2, X = this.y + this.h, M = this.x + this.w, R = this.y + this.h / 2; break; case gemOrgStr.C_BOTTOM: case gemOrgStr.BP_LEFT: P = this.x + this.w / 2, X = this.y, M = this.x + this.w, R = this.y + this.h / 2; break; case gemOrgStr.C_RIGHT: case gemOrgStr.RP_TOP: P = this.x, X = this.y + this.h / 2, M = this.x + this.w / 2, R = this.y + this.h; break; case gemOrgStr.C_LEFT: case gemOrgStr.LP_TOP: P = this.x + this.w, X = this.y + this.h / 2, M = this.x + this.w / 2, R = this.y + this.h; }for (var G = 0; G < this.getChildren().length; G++) { switch (V = this.getChildren()[G], w.orientation) { case gemOrgStr.C_TOP: case gemOrgStr.TP_LEFT: O = N = V.x + V.w / 2, L = P, C = E = (S = V.y) - w.levelSeparation / 2, A = V.x + V.w, H = F = V.y + V.h / 2, D = B = V.x + V.w + w.siblingSeparation / 2, I = R; break; case gemOrgStr.C_BOTTOM: case gemOrgStr.BP_LEFT: O = N = V.x + V.w / 2, L = P, C = E = (S = V.y + V.h) + w.levelSeparation / 2, A = V.x + V.w, H = F = V.y + V.h / 2, D = B = V.x + V.w + w.siblingSeparation / 2, I = R; break; case gemOrgStr.C_RIGHT: case gemOrgStr.RP_TOP: O = V.x + V.w, S = E = V.y + V.h / 2, C = X, L = N = O + w.levelSeparation / 2, A = D = V.x + V.w / 2, H = V.y + V.h, B = M, I = F = V.y + V.h + w.siblingSeparation / 2; break; case gemOrgStr.C_LEFT: case gemOrgStr.LP_TOP: O = V.x, S = E = V.y + V.h / 2, C = X, L = N = O - w.levelSeparation / 2, A = D = V.x + V.w / 2, H = V.y + V.h, B = M, I = F = V.y + V.h + w.siblingSeparation / 2; }if (null == this.displayChildren && null != V.displayChildren && this.collapsed == gemOrgStr.EXPANDED) switch (w.orientation) { case gemOrgStr.C_TOP: case gemOrgStr.TP_LEFT: case gemOrgStr.C_BOTTOM: case gemOrgStr.BP_LEFT: T.push("<path data-link-id=\"" + this.id + "\" class=\"link\"   d=\"M" + P + "," + X + " " + L + "," + C + " " + B + "," + C + " " + D + "," + F + " L" + A + "," + H + "\"/>"); break; case gemOrgStr.C_RIGHT: case gemOrgStr.RP_TOP: case gemOrgStr.C_LEFT: case gemOrgStr.LP_TOP: T.push("<path data-link-id=\"" + this.id + "\" class=\"link\"   d=\"M" + P + "," + X + " " + L + "," + C + " " + L + "," + I + " " + D + "," + F + " L" + A + "," + H + "\"/>"); } else if (null != this.displayChildren) T.push("<path data-link-id=\"" + this.id + "\" class=\"link\"   d=\"M" + M + "," + R + " " + B + "," + I + " " + D + "," + F + " L" + A + "," + H + "\"/>"); else if (this.collapsed == gemOrgStr.EXPANDED) switch (w.linkType) { case "M": T.push("<path data-link-id=\"" + this.id + "\" class=\"link\"   d=\"M" + P + "," + X + " " + L + "," + C + " " + N + "," + E + " L" + O + "," + S + "\"/>"); break; case "B": T.push("<path data-link-id=\"" + this.id + "\" class=\"link\"  d=\"M" + P + "," + X + " C" + L + "," + C + " " + N + "," + E + " " + O + "," + S + "\"/>"); }w.expandToLevel && null == this.displayChildren && T.push(gemOrgStr.buttons.expColl.replace("[display]", this.collapsed == gemOrgStr.EXPANDED ? "none" : "block").replace(/\[xa]/g, P - q.lnkRadius).replace(/\[ya]/g, X - q.lnkRadius).replace(/\[start]/g, 2 * q.lnkRadius / 6).replace(/\[middle]/g, q.lnkRadius).replace(/\[end]/g, 5 * (2 * q.lnkRadius / 6)).replace(/\[id]/g, this.id)) } return T.join("") }, gemOrgStr.node.prototype._W = function (w) { if (!this.secondChildren.length) return []; var T = [], P = 0, X = 0, L = 0, C = 0, N = 0, E = 0, O = null, S = w.customize[this.id] && w.customize[this.id].theme ? gemOrgStr.themes[w.customize[this.id].theme] : gemOrgStr.themes[w.theme]; switch (w.orientation) { case gemOrgStr.C_TOP: case gemOrgStr.TP_LEFT: P = this.x + this.w / 2, X = this.y + this.h; break; case gemOrgStr.C_BOTTOM: case gemOrgStr.BP_LEFT: P = this.x + this.w / 2, X = this.y; break; case gemOrgStr.C_RIGHT: case gemOrgStr.RP_TOP: P = this.x, X = this.y + this.h / 2; break; case gemOrgStr.C_LEFT: case gemOrgStr.LP_TOP: P = this.x + this.w, X = this.y + this.h / 2; }for (var M = this.secondChildren.length - 1; 0 <= M; M--)if ((O = this.secondChildren[M]).parent.collapsed == gemOrgStr.EXPANDED) { switch (w.orientation) { case gemOrgStr.C_TOP: case gemOrgStr.TP_LEFT: L = O.x + O.w / 2, C = O.y, E = X, P > L ? (N = P - S.lnkRadius, L += S.lnkRadius) : (N = P + S.lnkRadius, L -= S.lnkRadius); break; case gemOrgStr.C_BOTTOM: case gemOrgStr.BP_LEFT: L = O.x + O.w / 2, C = O.y + O.h, E = X, P > L ? (N = P - S.lnkRadius, L += S.lnkRadius) : (N = P + S.lnkRadius, L -= S.lnkRadius); break; case gemOrgStr.C_RIGHT: case gemOrgStr.RP_TOP: L = O.x + O.w, N = P, X > (C = yc = O.y + O.h / 2) ? (E = X - S.lnkRadius, C += S.lnkRadius) : (E = X + S.lnkRadius, C -= S.lnkRadius); break; case gemOrgStr.C_LEFT: case gemOrgStr.LP_TOP: L = O.x, N = P, X > (C = yc = O.y + O.h / 2) ? (E = X - S.lnkRadius, C += S.lnkRadius) : (E = X + S.lnkRadius, C -= S.lnkRadius); }this.collapsed == gemOrgStr.EXPANDED && T.push("<path data-link-id=\"" + this.id + "\" class=\"link-second-parent\"   d=\"M" + N + "," + E + "  L" + L + "," + C + "\"/>") } return T.join("") }, gemOrgStr.node.prototype.getMDChild = function (w) { var T = this; return function P(X, L) { if (X.collapsed == gemOrgStr.EXPANDED || null != X.displayChildren) for (var C, N = 0; N < X.getChildren().length; N++)C = L[X.getChildren()[N].id], C.level > T.level && (T = C), P(X.getChildren()[N], L) }(this, w), T }, gemOrgStr.node.prototype.draw = function (w) { var T = [], P = this.getImageUrl(), X = w.customize[this.id] && w.customize[this.id].theme ? gemOrgStr.themes[w.customize[this.id].theme] : gemOrgStr.themes[w.theme], L = w.customize[this.id] && w.customize[this.id].theme ? " gem-" + w.customize[this.id].theme : "", C = w.customize[this.id] && w.customize[this.id].color ? " gem-" + w.customize[this.id].color : ""; L && !C && (C = " gem-" + w.color), null == this.color || null == this.displayChildren && null == this.displayParent || (C += " gem-" + this.color), C && !L && (L = " gem-" + w.theme); var N = L + C, E = P ? X.textPoints : X.txtPtNoImage; for (themeProperty in T.push(gemOrgStr.OPEN_NODE.replace("[data-node-id]", this.id).replace("[x]", null == this._zU ? this.x : this._zU).replace("[y]", null == this._zJ ? this.y : this._zJ).replace("[level]", this.level).replace("[nodeCssClass]", N)), X) switch (themeProperty) { case "image": P && T.push(X.image.replace("[href]", P)); break; case "text": var O = 0; for (k = 0; k < w.primaryFields.length; k++) { var S = E[O], M = w.primaryFields[k]; S && this.data && this.data[M] && (T.push(X.text.replace("[index]", O).replace("[text]", this.data[M]).replace("[y]", S.y).replace("[x]", S.x).replace("[rotate]", S.rotate).replace("[width]", S.width)), O++) } break; default: "size" != themeProperty && "toolbarHeight" != themeProperty && "textPoints" != themeProperty && "lnkRadius" != themeProperty && "txtPtNoImage" != themeProperty && T.push(X[themeProperty]); }return T.push(gemOrgStr.CLOSE_NODE), T }, !gemOrgStr) var gemOrgStr = {}; if (gemOrgStr.themes = { annabel: { size: [500, 220], toolbarHeight: 46, textPoints: [{ x: 10, y: 200, width: 490 }, { x: 210, y: 40, width: 290 }, { x: 210, y: 65, width: 290 }, { x: 210, y: 90, width: 290 }, { x: 210, y: 115, width: 290 }, { x: 210, y: 140, width: 290 }], txtPtNoImage: [{ x: 10, y: 200, width: 490 }, { x: 10, y: 40, width: 490 }, { x: 10, y: 65, width: 490 }, { x: 10, y: 90, width: 490 }, { x: 10, y: 115, width: 490 }, { x: 10, y: 140, width: 490 }], lnkRadius: 20, box: "<path class=\"gem-box\" d=\"M0 0 L500 0 L500 220 L0 220 Z\"/>", text: "<text width=\"[width]\" class=\"gem-text gem-text-[index]\" x=\"[x]\" y=\"[y]\">[text]</text>", image: "<image xlink:href=\"[href]\"  x=\"20\" y=\"-20\" height=\"170\" preserveAspectRatio=\"xMidYMid slice\" width=\"170\"/>" }, sara: { size: [500, 220], toolbarHeight: 46, textPoints: [{ x: 10, y: 200, width: 490 }, { x: 210, y: 40, width: 290 }, { x: 210, y: 65, width: 290 }, { x: 210, y: 90, width: 290 }, { x: 210, y: 115, width: 290 }, { x: 210, y: 140, width: 290 }], txtPtNoImage: [{ x: 10, y: 200, width: 490 }, { x: 10, y: 40, width: 490 }, { x: 10, y: 65, width: 490 }, { x: 10, y: 90, width: 490 }, { x: 10, y: 115, width: 490 }, { x: 10, y: 140, width: 490 }], lnkRadius: 20, box: "<rect  x=\"0\" y=\"0\" height=\"220\" width=\"500\" rx=\"10\" ry=\"10\" class=\"gem-box\" />", text: "<text width=\"[width]\" class=\"gem-text gem-text-[index]\" x=\"[x]\" y=\"[y]\">[text]</text>", image: "<image xlink:href=\"[href]\"  x=\"20\" y=\"-20\" height=\"170\" preserveAspectRatio=\"xMidYMid slice\" width=\"170\"/>" }, belinda: { size: [300, 300], toolbarHeight: 46, textPoints: [{ x: 40, y: 70, width: 220 }, { x: 40, y: 245, width: 220 }, { x: 65, y: 270, width: 170 }], txtPtNoImage: [{ x: 30, y: 100, width: 240 }, { x: 30, y: 140, width: 240 }, { x: 30, y: 180, width: 240 }, { x: 30, y: 220, width: 240 }], lnkRadius: 20, box: "<circle class=\"gem-box\" cx=\"150\" cy=\"150\" r=\"150\" />", text: "<text width=\"[width]\" class=\"gem-text gem-text-[index]\" x=\"[x]\" y=\"[y]\">[text]</text>", image: "<clipPath id=\"gemBClip1\"><rect x=\"0\" y=\"75\" width=\"300\" height=\"150\" /></clipPath><clipPath clip-path=\"url(#gemBClip1)\" id=\"gemBClip2\"><circle cx=\"150\" cy=\"150\" r=\"150\" /></clipPath><image preserveAspectRatio=\"xMidYMid slice\"  clip-path=\"url(#gemBClip2)\" xlink:href=\"[href]\" x=\"1\" y=\"1\" height=\"300\"   width=\"300\"/>" }, cassandra: { size: [310, 140], toolbarHeight: 46, textPoints: [{ x: 110, y: 50, width: 200 }, { x: 110, y: 80, width: 200 }, { x: 110, y: 105, width: 200 }, { x: 110, y: 130, width: 200 }], txtPtNoImage: [{ x: 110, y: 50, width: 200 }, { x: 110, y: 80, width: 200 }, { x: 110, y: 105, width: 200 }, { x: 110, y: 130, width: 200 }], lnkRadius: 20, box: "<path class=\"gem-box gem-cassandra-border\" d=\"M70 10 L70 0 L310 0 L310 10 M310 130 L310 140 L70 140 L70 130\"/>", text: "<text width=\"[width]\" class=\"gem-text gem-text-[index] gem-cassandra-text\" x=\"[x]\" y=\"[y]\">[text]</text>", image: "<image xlink:href=\"[href]\" x=\"1\" y=\"20\" height=\"100\" preserveAspectRatio=\"xMidYMid slice\" width=\"100\"/>" }, deborah: { size: [222, 222], toolbarHeight: 46, textPoints: [{ x: 10, y: 40, width: 202 }, { x: 10, y: 200, width: 202 }], txtPtNoImage: [{ x: 10, y: 40, width: 202 }, { x: 10, y: 200, width: 202 }], lnkRadius: 20, image: "<clipPath id=\"gemVClip\"><path class=\"gem-box\" d=\"M35 0 L187 0 Q222 0 222 35 L222 187 Q222 222 187 222 L35 222 Q0 222 0 187 L0 35 Q0 0 35 0 Z\"/></clipPath><image clip-path=\"url(#gemVClip)\" xlink:href=\"[href]\" x=\"0\" y=\"0\" height=\"222\" preserveAspectRatio=\"xMidYMid slice\" width=\"222\"/>", box: "<path class=\"gem-text-pane\" d=\"M222 172 Q222 222 187 222 L35 222 Q0 222 0 187 L0 172 Z\"/><path class=\"gem-text-pane\" d=\"M35 0 L187 0 Q222 0 222 35 L222 50 L0 50 L0 50 Q0 0 35 0 Z\"/><path class=\"gem-box\" d=\"M35 0 L187 0 Q222 0 222 35 L222 187 Q222 222 187 222 L35 222 Q0 222 0 187 L0 35 Q0 0 35 0 Z\"/>", text: "<text width=\"[width]\" class=\"gem-text gem-text-[index]\" x=\"[x]\" y=\"[y]\">[text]</text>" }, lena: { size: [481, 420], toolbarHeight: 46, textPoints: [{ x: 40, y: 130, width: 280 }, { x: 40, y: 325, width: 280 }, { x: 40, y: 355, width: 280 }, { x: 40, y: 385, width: 280 }], txtPtNoImage: [{ x: 40, y: 130, width: 280 }, { x: 40, y: 190, width: 280 }, { x: 40, y: 220, width: 280 }, { x: 40, y: 250, width: 280 }, { x: 40, y: 280, width: 280 }, { x: 40, y: 310, width: 280 }, { x: 40, y: 340, width: 280 }], lnkRadius: 20, defs: "<linearGradient id=\"getNodeDef2\"><stop class=\"gem-def-stop-1\" offset=\"0\" /><stop class=\"gem-def-stop-2\" offset=\"1\" /></linearGradient><linearGradient xlink:href=\"#getNodeDef2\" id=\"getNodeDef1\" y2=\"0.21591\" x2=\"0.095527\" y1=\"0.140963\" x1=\"0.063497\" />", box: "<path fill=\"#000000\" fill-opacity=\"0.392157\" fill-rule=\"nonzero\" stroke-width=\"4\" stroke-miterlimit=\"4\" d=\"M15.266,67.6297 C66.2394,47.802 149.806,37.5153 149.806,37.5153 L387.9,6.06772 L413.495,199.851 C413.495,199.851 427.17,312.998 460.342,367.036 C382.729,399.222 245.307,419.23 245.307,419.23 L51.5235,444.825 L7.74078,113.339 C7.74078,113.339 0.7616,86.8934 15.266,67.6297 L15.266,67.6297 z\" /><path fill=\"url(#getNodeDef1)\" fill-rule=\"nonzero\" stroke=\"#000000\" stroke-width=\"4\" stroke-miterlimit=\"4\" d=\"M7.83745,60.562 C66.3108,43.7342 144.877,33.4476 144.877,33.4476 L382.972,2 L408.567,195.783 C408.567,195.783 417.334,271.777 450.506,325.814 C387.314,401.952 240.378,415.162 240.378,415.162 L46.5949,440.757 L2.81219,109.271 C2.81219,109.271 -0.98386,77.3975 7.83744,60.562 L7.83745,60.562 z\" />", text: "<text transform=\"rotate(-8)\" width=\"[width]\" class=\"gem-text gem-text-[index]\" x=\"[x]\" y=\"[y]\">[text]</text>", image: "<image transform=\"rotate(-8)\" xlink:href=\"[href]\" x=\"40\" y=\"150\" height=\"150\" preserveAspectRatio=\"xMidYMid slice\" width=\"280\"/>" }, monica: { size: [500, 220], toolbarHeight: 46, textPoints: [{ x: 10, y: 200, width: 490 }, { x: 200, y: 40, width: 300 }, { x: 210, y: 65, width: 290 }, { x: 210, y: 90, width: 290 }, { x: 200, y: 115, width: 300 }, { x: 185, y: 140, width: 315 }], txtPtNoImage: [{ x: 10, y: 200, width: 490 }, { x: 10, y: 40, width: 490 }, { x: 10, y: 65, width: 490 }, { x: 10, y: 90, width: 490 }, { x: 10, y: 115, width: 490 }, { x: 10, y: 140, width: 490 }], lnkRadius: 20, box: "<path class=\"gem-box\" d=\"M0 0 L500 0 L500 220 L0 220 Z\"/>", text: "<text width=\"[width]\" class=\"gem-text gem-text-[index]\" x=\"[x]\" y=\"[y]\">[text]</text>", image: "<clipPath id=\"gemOrgClip\"><circle cx=\"105\" cy=\"65\" r=\"85\" /></clipPath><image preserveAspectRatio=\"xMidYMid slice\" clip-path=\"url(#gemOrgClip)\" xlink:href=\"[href]\" x=\"20\" y=\"-20\" height=\"170\" width=\"170\"/>" }, ula: { size: [500, 220], toolbarHeight: 46, textPoints: [{ x: 10, y: 200, width: 490 }, { x: 200, y: 40, width: 300 }, { x: 210, y: 65, width: 290 }, { x: 210, y: 90, width: 290 }, { x: 200, y: 115, width: 300 }, { x: 185, y: 140, width: 315 }], txtPtNoImage: [{ x: 10, y: 200, width: 490 }, { x: 10, y: 40, width: 490 }, { x: 10, y: 65, width: 490 }, { x: 10, y: 90, width: 490 }, { x: 10, y: 115, width: 490 }, { x: 10, y: 140, width: 490 }], lnkRadius: 20, box: "<rect x=\"0\" y=\"0\" height=\"220\" width=\"500\" rx=\"10\" ry=\"10\" class=\"gem-box\" />", text: "<text width=\"[width]\" class=\"gem-text gem-text-[index]\" x=\"[x]\" y=\"[y]\">[text]</text>", image: "<clipPath id=\"gemOrgClip\"><circle cx=\"105\" cy=\"65\" r=\"85\" /></clipPath><image preserveAspectRatio=\"xMidYMid slice\" clip-path=\"url(#gemOrgClip)\" xlink:href=\"[href]\" x=\"20\" y=\"-20\" height=\"170\" width=\"170\"/>" }, eve: { size: [500, 220], toolbarHeight: 46, textPoints: [{ x: 10, y: 200, width: 490 }, { x: 210, y: 40, width: 290 }, { x: 210, y: 65, width: 290 }, { x: 210, y: 90, width: 290 }, { x: 210, y: 115, width: 290 }, { x: 210, y: 140, width: 290 }], txtPtNoImage: [{ x: 10, y: 200, width: 490 }, { x: 10, y: 40, width: 490 }, { x: 10, y: 65, width: 490 }, { x: 10, y: 90, width: 490 }, { x: 10, y: 115, width: 490 }, { x: 10, y: 140, width: 490 }], lnkRadius: 20, box: "<path class=\"gem-box\" d=\"M0 0 L500 0 L500 220 L0 220 Z\"/>", text: "<text width=\"[width]\" class=\"gem-text gem-text-[index]\" x=\"[x]\" y=\"[y]\">[text]</text>", image: "<image xlink:href=\"[href]\" x=\"20\" y=\"-20\" height=\"170\" preserveAspectRatio=\"xMidYMid slice\" width=\"170\"/>" }, tal: { size: [500, 220], toolbarHeight: 46, textPoints: [{ x: 10, y: 200, width: 490 }, { x: 210, y: 40, width: 290 }, { x: 210, y: 65, width: 290 }, { x: 210, y: 90, width: 290 }, { x: 210, y: 115, width: 290 }, { x: 210, y: 140, width: 290 }], txtPtNoImage: [{ x: 10, y: 200, width: 490 }, { x: 10, y: 40, width: 490 }, { x: 10, y: 65, width: 490 }, { x: 10, y: 90, width: 490 }, { x: 10, y: 115, width: 490 }, { x: 10, y: 140, width: 490 }], lnkRadius: 20, box: "<rect x=\"0\" y=\"0\" height=\"220\" width=\"500\" rx=\"10\" ry=\"10\" class=\"gem-box\" />", text: "<text width=\"[width]\" class=\"gem-text gem-text-[index]\" x=\"[x]\" y=\"[y]\">[text]</text>", image: "<image xlink:href=\"[href]\" x=\"20\" y=\"-20\" height=\"170\" preserveAspectRatio=\"xMidYMid slice\" width=\"170\"/>" }, vivian: { size: [500, 220], toolbarHeight: 46, textPoints: [{ x: 10, y: 200, width: 490 }, { x: 240, y: 40, width: 260 }, { x: 250, y: 65, width: 250 }, { x: 270, y: 90, width: 230 }, { x: 290, y: 115, width: 210 }, { x: 310, y: 140, width: 290 }], txtPtNoImage: [{ x: 10, y: 200, width: 490 }, { x: 10, y: 40, width: 490 }, { x: 10, y: 65, width: 490 }, { x: 10, y: 90, width: 490 }, { x: 10, y: 115, width: 490 }, { x: 10, y: 140, width: 490 }], lnkRadius: 20, box: "<path class=\"gem-box\" d=\"M0 0 L500 0 L500 220 L0 220 Z\"/>", text: "<text width=\"[width]\" class=\"gem-text gem-text-[index]\" x=\"[x]\" y=\"[y]\">[text]</text>", image: "<clipPath id=\"getVivianClip\"><polygon class=\"gem-box\" points=\"20,70 75,-20 185,-20 240,70 185,160 75,160\"/></clipPath><image preserveAspectRatio=\"xMidYMid slice\" clip-path=\"url(#getVivianClip)\" xlink:href=\"[href]\" x=\"20\" y=\"-20\" height=\"200\" width=\"300\"/>" }, ada: { size: [500, 220], toolbarHeight: 46, textPoints: [{ x: 10, y: 200, width: 490 }, { x: 240, y: 40, width: 260 }, { x: 250, y: 65, width: 250 }, { x: 270, y: 90, width: 230 }, { x: 290, y: 115, width: 210 }, { x: 310, y: 140, width: 290 }], txtPtNoImage: [{ x: 10, y: 200, width: 490 }, { x: 10, y: 40, width: 490 }, { x: 10, y: 65, width: 490 }, { x: 10, y: 90, width: 490 }, { x: 10, y: 115, width: 490 }, { x: 10, y: 140, width: 490 }], lnkRadius: 20, box: "<rect x=\"0\" y=\"0\" height=\"220\" width=\"500\" rx=\"10\" ry=\"10\" class=\"gem-box\" />", text: "<text width=\"[width]\" class=\"gem-text gem-text-[index]\" x=\"[x]\" y=\"[y]\">[text]</text>", image: "<clipPath id=\"getVivianClip\"><polygon class=\"gem-box\" points=\"20,70 75,-20 185,-20 240,70 185,160 75,160\"/></clipPath><image preserveAspectRatio=\"xMidYMid slice\" clip-path=\"url(#getVivianClip)\" xlink:href=\"[href]\" x=\"20\" y=\"-20\" height=\"200\" width=\"300\"/>" }, helen: { size: [380, 190], toolbarHeight: 46, textPoints: [{ x: 20, y: 170, width: 350, rotate: 0 }, { x: 0, y: -380, width: 170, rotate: 90 }, { x: 20, y: -5, width: 170, rotate: 0 }], txtPtNoImage: [{ x: 20, y: 170, width: 350, rotate: 0 }, { x: 20, y: 115, width: 350, rotate: 0 }, { x: 20, y: 85, width: 350, rotate: 0 }, { x: 20, y: 55, width: 350, rotate: 0 }, { x: 20, y: 25, width: 350, rotate: 0 }, { x: 20, y: -5, width: 350, rotate: 0 }], lnkRadius: 20, text: "<text transform=\"rotate([rotate])\"  width=\"[width]\" class=\"gem-text gem-text-[index] gem-helen-text\" x=\"[x]\" y=\"[y]\">[text]</text>", image: "<image xlink:href=\"[href]\" x=\"20\" y=\"0\" height=\"140\" preserveAspectRatio=\"xMidYMid slice\" width=\"350\"/>" } }, "undefined" == typeof get && (get = {}), get._z = function (w, T, P, X, L, C) { var N, E = 1; document.getElementsByTagName("g"), w.length || (w = [w]), N = setInterval(function () { for (var O in P) { var S = gemOrgStr.util._s(["top", "left", "right", "bottom"], O.toLowerCase()) ? "px" : ""; switch (O.toLowerCase()) { case "d": var M = L((10 * E - 10) / X) * (P[O][0] - T[O][0]) + T[O][0], R = L((10 * E - 10) / X) * (P[O][1] - T[O][1]) + T[O][1]; for (z = 0; z < w.length; z++)w[z].setAttribute("d", w[z].getAttribute("d") + " L" + M + " " + R); break; case "transform": if (P[O]) { var B = T[O], I = P[O], D = [0, 0, 0, 0, 0, 0]; for (i in B) D[i] = L((10 * E - 10) / X) * (I[i] - B[i]) + B[i]; for (z = 0; z < w.length; z++)w[z].setAttribute("transform", "matrix(" + D.toString() + ")") } break; case "viewbox": if (P[O]) { for (i in B = T[O], I = P[O], D = [0, 0, 0, 0], B) D[i] = L((10 * E - 10) / X) * (I[i] - B[i]) + B[i]; for (z = 0; z < w.length; z++)w[z].setAttribute("viewBox", D.toString()) } break; case "margin": if (P[O]) { for (i in B = T[O], I = P[O], D = [0, 0, 0, 0], B) D[i] = L((10 * E - 10) / X) * (I[i] - B[i]) + B[i]; for (i = 0; i < D.length; i++)parseInt(D[i]); for (z = 0; z < w.length; z++)w[z] && w[z].style && (w[z].style[O] = F) } break; default: var F = L((10 * E - 10) / X) * (P[O] - T[O]) + T[O]; for (z = 0; z < w.length; z++)w[z] && w[z].style && (w[z].style[O] = F + S); } } (E += 1) > X / 10 + 1 + 1 && (clearInterval(N), C && C(w)) }, 10) }, get._z._av = function (w) { return 0 > w ? 0 : 1 < w ? 1 : Math.pow(w, 2) }, get._z._aI = function (w) { return 0 > w ? 0 : 1 < w ? 1 : -1 * (Math.pow(w - 1, 2) + -1) }, get._z._ar = function (w) { return 0 > w ? 0 : 1 < w ? 1 : 1 > (w *= 2) ? get._z._av(w, 2) / 2 : -.5 * (Math.pow(w - 2, 2) + -2) }, get._z._at = function (w) { return 0 > w ? 0 : 1 < w ? 1 : 1 - Math.cos(w * (Math.PI / 2)) }, get._z._aK = function (w) { return 0 > w ? 0 : 1 < w ? 1 : Math.sin(w * (Math.PI / 2)) }, get._z._af = function (w) { return 0 > w ? 0 : 1 < w ? 1 : -.5 * (Math.cos(Math.PI * w) - 1) }, get._z._as = function (w) { return 0 > w ? 0 : 1 < w ? 1 : Math.pow(2, 10 * (w - 1)) }, get._z._aM = function (w) { return 0 > w ? 0 : 1 < w ? 1 : 1 - Math.pow(2, -10 * w) }, get._z._ac = function (w) { return 0 > w ? 0 : 1 < w ? 1 : .5 > w ? .5 * Math.pow(2, 10 * (2 * w - 1)) : .5 * (2 - Math.pow(2, 10 * (-2 * w + 1))) }, get._z._aw = function (w) { return 0 > w ? 0 : 1 < w ? 1 : -(Math.sqrt(1 - w * w) - 1) }, get._z._aJ = function (w) { return 0 > w ? 0 : 1 < w ? 1 : Math.sqrt(1 - (w - 1) * (w - 1)) }, get._z._ad = function (w) { return 0 > w ? 0 : 1 < w ? 1 : 1 > w ? -.5 * (Math.sqrt(1 - w * w) - 1) : .5 * (Math.sqrt(1 - (2 * w - 2) * (2 * w - 2)) + 1) }, get._z._zx = function (w) { return 0 > w ? 0 : 1 < w ? 1 : 1 / 2.75 > w ? 1 - 7.5625 * w * w : 2 / 2.75 > w ? 1 - (7.5625 * (w - 1.5 / 2.75) * (w - 1.5 / 2.75) + .75) : 2.5 / 2.75 > w ? 1 - (7.5625 * (w - 2.25 / 2.75) * (w - 2.25 / 2.75) + .9375) : 1 - (7.5625 * (w - 2.625 / 2.75) * (w - 2.625 / 2.75) + .984375) }, get._z._az = function (w) { return 0 > w ? 0 : 1 < w ? 1 : w * w * (2.70158 * w - 1.70158) }, get._z._aU = function (w) { return 0 > w ? 0 : 1 < w ? 1 : (w - 1) * (w - 1) * (2.70158 * (w - 1) + 1.70158) + 1 }, get._z._ae = function (w) { return 0 > w ? 0 : 1 < w ? 1 : .5 > w ? .5 * (4 * w * w * (7.1898 * w - 2.5949)) : .5 * ((2 * w - 2) * (2 * w - 2) * (3.5949 * (2 * w - 2) + 2.5949) + 2) }, get._z._aa = function (w) { var T = 2 * w; return T * Math.exp(1 - T) }, get._z._D = function (w) { return Math.exp(-2 * Math.pow(w, 2)) }, !gemOrgStr) var gemOrgStr = {}; function onRender(w, T) { for (var P = 0; P < T.content.length; P++)-1 != T.content[P].indexOf("[reporters]") && (T.content[P] = T.content[P].replace("[reporters]", T.node.children.length), T.content[P] = 0 < T.node.children.length ? T.content[P].replace(/\[hasChild\]/gm, "block") : T.content[P].replace(/\[hasChild\]/gm, "none")) } function bindPimcoOrgStructure() { calltoAjaxAnonymous(misApiUrl.fetchPimcoOrganizationStructure, "POST", { parentId: 0 }, function (w) { if (odt = w, null != w && "" != w) { var T = pickPropertiesAndGetObjects(w, ["Id", "ParentId", "Name", "ImagePath"]), P = document.getElementById("orgStructure"); pstr = new gemOrgStr(P, { theme: "gemOrgTheme", color: "teal", expandToLevel: 3, scale: .3, layout: gemOrgStr.H_RIGHT, primaryFields: ["Name", "TeamName"], photoFields: ["ImagePath"], dataSource: T, enableEdit: !1, enableDetailsView: !1, orgRender: onRender, updatedEvent: function () { mouseoverListener() } }), mouseoverListener() } else misAlert("The data you have requested does not exist. Please try after some time or contact to MIS team for further assistance.", "Oops...", "info") }) } gemOrgStr.buttons = { add: "<g style=\"display:none;\" class=\"gem-btn\" data-btn-id=\"[id]\" data-btn-action=\"add\" transform=\"matrix(0.14,0,0,0.14,0,0)\"><rect style=\"opacity:0\" x=\"0\" y=\"0\" height=\"300\" width=\"300\" /><path  fill=\"#686868\" d=\"M149.996,0C67.157,0,0.001,67.158,0.001,149.997c0,82.837,67.156,150,149.995,150s150-67.163,150-150 C299.996,67.156,232.835,0,149.996,0z M149.996,59.147c25.031,0,45.326,20.292,45.326,45.325 c0,25.036-20.292,45.328-45.326,45.328s-45.325-20.292-45.325-45.328C104.671,79.439,124.965,59.147,149.996,59.147z M168.692,212.557h-0.001v16.41v2.028h-18.264h-0.864H83.86c0-44.674,24.302-60.571,40.245-74.843 c7.724,4.15,16.532,6.531,25.892,6.601c9.358-0.07,18.168-2.451,25.887-6.601c7.143,6.393,15.953,13.121,23.511,22.606h-7.275 v10.374v13.051h-13.054h-10.374V212.557z M218.902,228.967v23.425h-16.41v-23.425h-23.428v-16.41h23.428v-23.425H218.9v23.425 h23.423v16.41H218.902z\"/></g>", edit: "<g style=\"display:none;\" class=\"gem-btn\" data-btn-id=\"[id]\" data-btn-action=\"edit\" transform=\"matrix(0.14,0,0,0.14,0,0)\"><rect style=\"opacity:0\" x=\"0\" y=\"0\" height=\"300\" width=\"300\" /><path fill=\"#686868\" d=\"M149.996,0C67.157,0,0.001,67.161,0.001,149.997S67.157,300,149.996,300s150.003-67.163,150.003-150.003 S232.835,0,149.996,0z M221.302,107.945l-14.247,14.247l-29.001-28.999l-11.002,11.002l29.001,29.001l-71.132,71.126 l-28.999-28.996L84.92,186.328l28.999,28.999l-7.088,7.088l-0.135-0.135c-0.786,1.294-2.064,2.238-3.582,2.575l-27.043,6.03 c-0.405,0.091-0.817,0.135-1.224,0.135c-1.476,0-2.91-0.581-3.973-1.647c-1.364-1.359-1.932-3.322-1.512-5.203l6.027-27.035 c0.34-1.517,1.286-2.798,2.578-3.582l-0.137-0.137L192.3,78.941c1.678-1.675,4.404-1.675,6.082,0.005l22.922,22.917 C222.982,103.541,222.982,106.267,221.302,107.945z\"/></g>", del: "<g style=\"display:none;\" class=\"gem-btn\" data-btn-id=\"[id]\" data-btn-action=\"del\" transform=\"matrix(0.14,0,0,0.14,0,0)\"><rect style=\"opacity:0\" x=\"0\" y=\"0\" height=\"300\" width=\"300\" /><path fill=\"#686868\" d=\"M112.782,205.804c10.644,7.166,23.449,11.355,37.218,11.355c36.837,0,66.808-29.971,66.808-66.808 c0-13.769-4.189-26.574-11.355-37.218L112.782,205.804z\"/> <path stroke=\"#686868\" fill=\"#686868\" d=\"M150,83.542c-36.839,0-66.808,29.969-66.808,66.808c0,15.595,5.384,29.946,14.374,41.326l93.758-93.758 C179.946,88.926,165.595,83.542,150,83.542z\"/><path stroke=\"#686868\" fill=\"#686868\" d=\"M149.997,0C67.158,0,0.003,67.161,0.003,149.997S67.158,300,149.997,300s150-67.163,150-150.003S232.837,0,149.997,0z M150,237.907c-48.28,0-87.557-39.28-87.557-87.557c0-48.28,39.277-87.557,87.557-87.557c48.277,0,87.557,39.277,87.557,87.557 C237.557,198.627,198.277,237.907,150,237.907z\"/></g>", details: "<g style=\"display:none;\" class=\"gem-btn\" data-btn-id=\"[id]\" data-btn-action=\"details\" transform=\"matrix(0.14,0,0,0.14,0,0)\"><rect style=\"opacity:0\" x=\"0\" y=\"0\" height=\"300\" width=\"300\" /><path fill=\"#686868\" d=\"M139.414,96.193c-22.673,0-41.056,18.389-41.056,41.062c0,22.678,18.383,41.062,41.056,41.062 c22.678,0,41.059-18.383,41.059-41.062C180.474,114.582,162.094,96.193,139.414,96.193z M159.255,146.971h-12.06v12.06 c0,4.298-3.483,7.781-7.781,7.781c-4.298,0-7.781-3.483-7.781-7.781v-12.06h-12.06c-4.298,0-7.781-3.483-7.781-7.781 c0-4.298,3.483-7.781,7.781-7.781h12.06v-12.063c0-4.298,3.483-7.781,7.781-7.781c4.298,0,7.781,3.483,7.781,7.781v12.063h12.06 c4.298,0,7.781,3.483,7.781,7.781C167.036,143.488,163.555,146.971,159.255,146.971z\"/><path stroke=\"#686868\" fill=\"#686868\" d=\"M149.997,0C67.157,0,0.001,67.158,0.001,149.995s67.156,150.003,149.995,150.003s150-67.163,150-150.003 S232.836,0,149.997,0z M225.438,221.254c-2.371,2.376-5.48,3.561-8.59,3.561s-6.217-1.185-8.593-3.561l-34.145-34.147 c-9.837,6.863-21.794,10.896-34.697,10.896c-33.548,0-60.742-27.196-60.742-60.744c0-33.548,27.194-60.742,60.742-60.742 c33.548,0,60.744,27.194,60.744,60.739c0,11.855-3.408,22.909-9.28,32.256l34.56,34.562 C230.185,208.817,230.185,216.512,225.438,221.254z\"/></g>", expColl: "<g transform=\"matrix(1,0,0,1,[xa],[ya])\" data-btn-id=\"[id]\" data-btn-action=\"expColl\"><circle cx=\"[middle]\" cy=\"[middle]\" r=\"[middle]\" class=\"gem-btn\" /><line x1=\"[start]\" y1=\"[middle]\" x2=\"[end]\" y2=\"[middle]\" class=\"gem-btn gem-btn-line\" /><line style=\"display:[display]\" x1=\"[middle]\" y1=\"[start]\" x2=\"[middle]\" y2=\"[end]\" class=\"gem-btn gem-btn-line\" /></g>" }, gemOrgStr.buttons.draw = function () { var w = []; return w.push(gemOrgStr.buttons.details), w.push(gemOrgStr.buttons.edit), w.push(gemOrgStr.buttons.add), w.push(gemOrgStr.buttons.del), w }, "undefined" == typeof get && (get = {}), get._c = function () { if (gemOrgStr._c) return gemOrgStr._c; var w = navigator.userAgent; w = w.toLowerCase(); var T = /(webkit)[ \/]([\w.]+)/.exec(w) || /(opera)(?:.*version)?[ \/]([\w.]+)/.exec(w) || /(msie) ([\w.]+)/.exec(w) || 0 > w.indexOf("compatible") && /(mozilla)(?:.*? rv:([\w.]+))?/.exec(w) || [], P = T[1] || ""; return T[2], gemOrgStr._c = { msie: "msie" == P, webkit: "webkit" == P, mozilla: "mozilla" == P, opera: "opera" == P }, gemOrgStr._c }, gemOrgStr.util = {}, gemOrgStr.util._5 = function (_X) { var viewBox = _X._v.getAttribute("viewBox"); return viewBox = "[" + viewBox + "]", eval(viewBox.replace(/\ /g, ", ")) }, gemOrgStr.util._3 = function (element) { var transform = element.getAttribute("transform"); return transform = transform.replace("matrix", "").replace("(", "").replace(")", ""), transform = gemOrgStr.util._zV(transform), transform = "[" + transform + "]", eval(transform.replace(/\ /g, ", ")) }, gemOrgStr.util._zV = function (w) { return w.replace(/^\s+|\s+$/g, "") }, gemOrgStr.util._s = function (w, T) { for (var P = w.length; P--;)if (w[P] === T) return !0; return !1 }, gemOrgStr.util._V = function (w) { for (var T = "1"; w[T];)T++; return T }, gemOrgStr.util._4 = function (w) { for (var T, P = window.location.href.slice(window.location.href.indexOf("?") + 1).split("&"), X = 0; X < P.length; X++)if ((T = P[X].split("=")) && 2 == T.length && T[0] === w) { for (var L, C, N = /(%[^%]{2})/; null != (encodedChar = N.exec(T[1])) && 1 < encodedChar.length && "" != encodedChar[1];)L = parseInt(encodedChar[1].substr(1), 16), C = String.fromCharCode(L), T[1] = T[1].replace(encodedChar[1], C); return decodeURIComponent(escape(T[1])) } return null }, gemOrgStr.util._zS = function (w) { if (window.ActiveXObject) (T = new ActiveXObject("Microsoft.XMLDOM")).async = "false", T.loadXML(w); else var T = new DOMParser().parseFromString(w, "text/xml"); return T }, gemOrgStr.util._ay = function (w) { return null == w || void 0 === w || "" == w || -1 == w }, gemOrgStr.util._ag = function (w) { return null != w }, gemOrgStr.util._a1 = function (w, T) { var P = w.getBoundingClientRect(), X = T.touches[0].pageX - P.left, L = T.touches[0].pageY - P.top, C = T.touches[1].pageX - P.left, N = T.touches[1].pageY - P.top; return Math.sqrt((X - C) * (X - C) + (L - N) * (L - N)) }, gemOrgStr.util._a3 = function (w, T) { var P = w.getBoundingClientRect(), X = T.touches[0].pageX - P.left, L = T.touches[0].pageY - P.top, C = T.touches[1].pageX - P.left, N = T.touches[1].pageY - P.top; return [((X - C) / 2 + C) / (P.width / 100), ((L - N) / 2 + N) / (P.height / 100)] }, gemOrgStr.util._aZ = function (w, T, P) { var X = w.getBoundingClientRect(), L = T - X.left, C = P - X.top; return [L / (X.width / 100), C / (X.height / 100)] }, gemOrgStr.util._zF = function (w, T) { var P = w.getBoundingClientRect(), X = T.touches[0].pageX - P.left, L = T.touches[0].pageY - P.top; return Math.sqrt((X - t2x) * (X - t2x) + (L - t2y) * (L - t2y)) }, gemOrgStr.util._1 = function (w) { var T = ["darkred", "pink", "darkorange", "orange", "lightgreen", "green", "lightteal", "teal", "lightblue", "blue", "darkpurple", "purple", "mediumdarkblue", "darkblue", "cordovan", "darkcordovan", "neutralgrey"], P = T.indexOf(w); return T.splice(P, 1), T[Math.floor(16 * Math.random() + 1)] }, gemOrgStr.prototype.showDetailsView = function (w) { var T = this.nodes[w], P = T.parent == this._zr, X = "", L = []; for (label in X += function (E, O, S) { var M = "<select " + (P ? "style=\"display:none;\"" : "") + "class=\"gem-oc-select-parent\"><option value=\"" + E + "\">--select parent--</option>", R = null; for (var B in O) if (R = O[B], T != R) { var I = ""; for (i = 0; i < S.length; i++) { var D = S[i]; R.data && R.data[D] && (I ? I = I + ", " + R.data[D] : I += R.data[D]) } M += R.id == E ? "<option selected=\"selected\" value=\"" + R.id + "\">" + I + "</option>" : "<option value=\"" + R.id + "\">" + I + "</option>" } return M + "</select>" }(T.pid, this.nodes, this.config.primaryFields), X += gemOrgStr.DETAILS_VIEW_ID_INPUT.replace("[personId]", T.id), T.data) X += gemOrgStr.DETAILS_VIEW_INPUT_HTML.replace(/\[label]/g, label).replace("[value]", T.data[label]), L.push(label); X += function (E, O) { var S, M = "<select class=\"gem-oc-labels\"><option value=\"\">--other--</option>"; for (i = 0; i < O.length; i++)gemOrgStr.util._s(E, O[i]) || (S += "<option value=\"" + O[i] + "\">" + O[i] + "</option>"); return M += S, M += "</select>", S || (M = ""), M }(L, this._au), this._X._i.innerHTML = X; var C = T.getImageUrl ? T.getImageUrl() : ""; this._X._m.innerHTML = C ? gemOrgStr.DETAILS_VIEW_ID_IMAGE.replace("[src]", C) : gemOrgStr.DETAILS_VIEW_USER_LOGO, this._k(); var N = this.config.customize[T.id] && this.config.customize[T.id].theme ? gemOrgStr.themes[this.config.customize[T.id].theme].toolbarHeight : this.theme.toolbarHeight; this._X._t.style.top = "-9999px", this._X._t.style.left = "-9999px", this._X._u.style.top = N + "px", this._X._u.style.left = "0px", this._X._u.style.position = "relative", this._X._7.style.top = "-9999px", this._X._7.style.left = "-9999px", this._X._7.innerHTML = "", this._X._i.style.opacity = 0, this._X._m.style.opacity = 0, get._z(this._X._m, { opacity: 0 }, { opacity: 1 }, 400, get._z._aK), get._z(this._X._zR, { top: 0 }, { top: -N }, 200, get._z._aK), get._z(this._X._i, { opacity: 0 }, { opacity: 1 }, 200, get._z._at) }, gemOrgStr.prototype._k = function () { this._X._J(), this._X._N() && this._q(this._X._N(), "change", this._j) }, gemOrgStr.prototype._j = function () { for (var w = this._X._H(), T = this._X._N(), P = T.value, X = 0; X < T.options.length; X++)P == T.options[X].value && (T.options[X] = null); if (P) { var L = this._X._i.innerHTML, C = gemOrgStr.DETAILS_VIEW_INPUT_HTML.replace(/\[label]/g, P).replace("[value]", ""), N = L.indexOf("<select class=\"gem-oc-labels\">"); this._X._i.innerHTML = L.substring(0, N) + C + L.substring(N, L.length); var E = this._X._J(), O = 1; for (X in w) E[O].value = w[X], O++; this._k() } }, gemOrgStr.prototype._zt = function () { if (this._S) { var w, T = this._X._U().value; this._X._M() && this._X._M().value && (w = this._X._M().value); var P = this._X._H(); this.updateNode(T, w, P), this._S = !1 } this.showMainView() }, gemOrgStr.prototype._zZ = function () { this.showGridView() }, gemOrgStr.prototype.showGridView = function () { var w = "<table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">"; for (w += "<tr>", w += "<th>ID</th><th>Parent ID</th>", i = 0; i < this._au.length; i++)w += "<th>" + (C = this._au[i]) + "</th>"; for (var T in w += "</tr>", this.nodes) { var P = this.nodes[T], X = 0 == i % 2 ? "gem-even" : "gem-odd", L = P.data; for (w += "<tr class=\"" + X + "\">", w += "<td>" + P.id + "</td>", w += "<td>" + P.pid + "</td>", j = 0; j < this._au.length; j++) { var C = this._au[j]; w += "<td>", w += L[C] || "&nbsp;", w += "</td>" } w += "</tr>" } w += "</table>", this._X._7.innerHTML = w, this._X._t.style.top = "-9999px", this._X._t.style.left = "-9999px", this._X._u.style.top = "-9999px", this._X._u.style.left = "-9999px", this._X._7.style.top = this.theme.toolbarHeight + "px", this._X._7.style.left = "0px", get._z(this._X._7, { left: 100, opacity: 0 }, { left: 0, opacity: 1 }, 200, get._z._aM), get._z(this._X._zR, { top: 0 }, { top: 2 * -this.theme.toolbarHeight }, 200, get._z._aK) }, gemOrgStr.prototype._zW = function () { this.showMainView() }, gemOrgStr.prototype.showMainView = function () { this._X._t.style.top = this.theme.toolbarHeight + "px", this._X._t.style.left = "0px", this._X._u.style.top = "-9999px", this._X._u.style.left = "-9999px", this._X._7.style.top = "-9999px", this._X._7.style.left = "-9999px", this._X._7.innerHTML = "", 0 != this._X._zR.style.top && "" != this._X._zR.style.top && "0px" != this._X._zR.style.top && get._z(this._X._zR, { top: -46 }, { top: 0 }, 200, get._z._aK) }, gemOrgStr.prototype._zs = function () { this.print() }, gemOrgStr.prototype.print = function () { var w, T = this, P = this._X.element, X = this._X._zC, L = [], C = P.parentNode, N = X.style.display, E = document.body, O = E.childNodes; if (!T._ab) { for (T._ab = !0, w = 0; w < O.length; w++) { var S = O[w]; 1 === S.nodeType && (L[w] = S.style.display, S.style.display = "none") } X.style.display = "none", E.appendChild(P), window.focus(), window.print(), setTimeout(function () { for (C.appendChild(P), w = 0; w < O.length; w++) { var M = O[w]; 1 === M.nodeType && (M.style.display = L[w]) } X.style.display = N, T._ab = !1 }, 1e3) } }, gemOrgStr.prototype._zK = function () { this.zoom(!0, !0) }, gemOrgStr.prototype._zL = function () { this.zoom(!1, !0) }, gemOrgStr.prototype._zy = function (w, T) { this._zh = this._X._u.scrollTop + T[0].touches[0].pageY }, gemOrgStr.prototype._zb = function (w, T) { this._X._u.scrollTop = this._zh - T[0].touches[0].pageY }, gemOrgStr.prototype._zn = function (w, T) { this._X._n = void 0; var P = T[0].wheelDelta ? T[0].wheelDelta / 40 : T[0].detail ? -T[0].detail : 0; if (P) { var X = gemOrgStr.util._aZ(this._X._v, T[0].pageX, T[0].pageY); this.zoom(0 < P, !1, X) } return T[0].preventDefault() && !1 }, gemOrgStr.prototype._zd = function () { var w = this; window.setTimeout(function () { w.resize() }, 300) }, gemOrgStr.prototype._aQ = function (w, T) { function P() { get._z(S._X._zc, { right: 1, opacity: .8 }, { right: -30, opacity: 0 }, 500, get._z._as, function () { S._aX = null }), get._z(S._X._aj, { left: 1, opacity: .8 }, { left: -30, opacity: 0 }, 500, get._z._as, function () { S._aX = null }), get._z(S._X._zG, { top: 49, opacity: .8 }, { top: 19, opacity: 0 }, 500, get._z._as, function () { S._aX = null }), get._z(S._X._Q, { bottom: 1, opacity: .8 }, { bottom: -30, opacity: 0 }, 500, get._z._as, function () { S._aX = null }) } if (this._X._n = void 0, this._aO.dragStart) { this._X._t.style.cursor = "move"; var X = T[0].pageX - this._X._t.offsetLeft, L = T[0].pageY - this._X._t.offsetTop, C = gemOrgStr.util._5(this._X), N = C[2] / this._aP, E = C[3] / this._aL, O = N > E ? N : E; C[0] = -(X - this._aO.dragStart.x) * O + this._aO.dragStart.viewBoxLeft, C[1] = -(L - this._aO.dragStart.y) * O + this._aO.dragStart.viewBoxTop, C[0] = parseInt(C[0]), C[1] = parseInt(C[1]), this._X._v.setAttribute("viewBox", C.toString()) } if (this.config.enableMove) { var S = this; if (this._aX) return clearTimeout(this._aX), void (this._aX = setTimeout(P, 4e3)); get._z(S._X._zc, { right: -30, opacity: 0 }, { right: 1, opacity: .8 }, 500, get._z._as), get._z(S._X._aj, { left: -30, opacity: 0 }, { left: 1, opacity: .8 }, 500, get._z._as), get._z(S._X._zG, { top: 19, opacity: 0 }, { top: 49, opacity: .8 }, 500, get._z._as), get._z(S._X._Q, { bottom: -30, opacity: 0 }, { bottom: 1, opacity: .8 }, 500, get._z._as), this._aX = setTimeout(P, 4e3) } }, gemOrgStr.prototype._ap = function (w, T) { document.body.style.mozUserSelect = document.body.style.webkitUserSelect = document.body.style.userSelect = "none"; var P = gemOrgStr.util._5(this._X); this._aO.dragStart = { x: T[0].pageX - this._X._t.offsetLeft, y: T[0].pageY - this._X._t.offsetTop, viewBoxLeft: P[0], viewBoxTop: P[1] } }, gemOrgStr.prototype._aA = function () { this._aO.dragStart = null, this._X._t.style.cursor = "default" }, gemOrgStr.prototype.zoom = function (w, T, P) { if (this._zM) return !1; this._zM = !0; var X = this, L = gemOrgStr.util._5(this._X), C = L.slice(0), N = L[2], E = L[3]; !0 === w ? (L[2] /= 1.2 * gemOrgStr.S_FACTOR, L[3] /= 1.2 * gemOrgStr.S_FACTOR) : !1 === w ? (L[2] *= 1.2 * gemOrgStr.S_FACTOR, L[3] *= 1.2 * gemOrgStr.S_FACTOR) : (L[2] /= w, L[3] /= w), P || (P = [50, 50]), L[0] = C[0] - (L[2] - N) / (100 / P[0]), L[1] = C[1] - (L[3] - E) / (100 / P[1]); var O = this._aP / L[2], S = this._aL / L[3]; return this.scale = O > S ? S : O, this.scale < this.minScale && (this.scale = this.minScale, L[2] = this._aP / this.scale, L[3] = this._aL / this.scale, L[0] = C[0] - (L[2] - N) / (100 / P[0]), L[1] = C[1] - (L[3] - E) / (100 / P[1])), this.scale > this.maxScale && (this.scale = this.maxScale, L[2] = this._aP / this.scale, L[3] = this._aL / this.scale, L[0] = C[0] - (L[2] - N) / (100 / P[0]), L[1] = C[1] - (L[3] - E) / (100 / P[1])), T ? get._z(this._X._v, { viewBox: C }, { viewBox: L }, 300, get._z._aU, function () { X._zM = !1 }) : (this._X._v.setAttribute("viewBox", L.toString()), this._zM = !1), !1 }, gemOrgStr.prototype._aD = function (w) { if (-1 < w.className.indexOf("gem-disabled")) return !1; var T = this; clearTimeout(this._zu.timer), this._zu.timer = setTimeout(function () { T._zu.currentIndex++ , T._l(), T._aq() }, 100) }, gemOrgStr.prototype._za = function (w) { if (-1 < w.className.indexOf("gem-disabled")) return !1; var T = this; clearTimeout(this._zu.timer), this._zu.timer = setTimeout(function () { T._zu.currentIndex-- , T._l(), T._aq() }, 100) }, gemOrgStr.prototype._zm = function () { var w = this; clearTimeout(this._zu.timer), this._zu.timer = setTimeout(function () { w._zu.found = w._C(w._X._zj.value), w._zu.currentIndex = 0, w._l(), w._an(), w._aq() }, 500) }, gemOrgStr.prototype._zi = function () { var w = this; clearTimeout(this._zu.timer), this._zu.timer = setTimeout(function () { w._zu.currentIndex = 0, w._zu.found = w._C(w._X._zj.value), w._an(), w._l(), w._aq() }, 100) }, gemOrgStr.prototype._aq = function () { this._zu.found.length && this.highlightNode(this._zu.found[this._zu.currentIndex].node.id) }, gemOrgStr.prototype.highlightNode = function (w) { function T() { var X = P.nodes[w], L = (gemOrgStr.util._5(P._X), X.x - P.initialViewBoxMatrix[2] / 2 + X.w / 2), C = X.y - P.initialViewBoxMatrix[3] / 2 + X.h / 2; P.move([L, C, P.initialViewBoxMatrix[2], P.initialViewBoxMatrix[3]], null, function () { var N = P._X.getNodeById(w), E = gemOrgStr.util._3(N), O = E.slice(0); O[0] = gemOrgStr.HS_FACTOR, O[3] = gemOrgStr.HS_FACTOR, O[4] -= X.w / 2 * (gemOrgStr.HS_FACTOR - 1), O[5] -= X.h / 2 * (gemOrgStr.HS_FACTOR - 1), get._z(N, { transform: E }, { transform: O }, 200, get._z._at, function (S) { get._z(S[0], { transform: O }, { transform: E }, 200, get._z._aK, function () { }) }) }) } var P = this; this.isCollapsed(this.nodes[w]) ? this.expand(this.nodes[w].parent, T) : T() }, gemOrgStr.prototype._an = function () { }, gemOrgStr.prototype._l = function () { this._zu.currentIndex < this._zu.found.length - 1 && 0 != this._zu.found.length ? this._X._aE.className = this._X._aE.className.replace(" gem-disabled", "") : -1 == this._X._aE.className.indexOf(" gem-disabled") && (this._X._aE.className += " gem-disabled"), 0 != this._zu.currentIndex && 0 != this._zu.found.length ? this._X._zq.className = this._X._zq.className.replace(" gem-disabled", "") : -1 == this._X._zq.className.indexOf(" gem-disabled") && (this._X._zq.className += " gem-disabled") }, gemOrgStr.prototype._C = function (w) { var T = []; if ("" == w) return T; for (var P in w.toLowerCase && (w = w.toLowerCase()), this.nodes) { var X = this.nodes[P]; for (m in X.data) if (m != this.config.photoFields[0]) { var L = -1; if (gemOrgStr.util._ag(X) && gemOrgStr.util._ag(X.data[m]) && (L = X.data[m].toString().toLowerCase().indexOf(w)), -1 < L) { T.push({ indexOf: L, node: X }); break } } } return T.sort(function (C, N) { return C.indexOf < N.indexOf ? -1 : C.indexOf > N.indexOf ? 1 : 0 }), T }, gemOrgStr.prototype._aT = function (w) { var T = w.getAttribute("data-node-id"), P = this.nodes[T], X = P.x + P.w - 15, L = P.x - 30, C = P.y - 30, N = P.y + P.h - 15; this.config.enableDetailsView && this._zl("details", X, C, T), this.config.enableEdit && (this._zl("add", X, N, T), this._zl("edit", L, C, T), this._zl("del", L, N, T)) }, gemOrgStr.prototype._zl = function (w, T, P, X) { var L = this._X.getButtonByType(w); L.style.display = "block", L.setAttribute("transform", "matrix(0.14,0,0,0.14," + T + "," + P + ")"), L.setAttribute("data-btn-id", X) }, gemOrgStr.prototype._aF = function (w) { var T = w.getAttribute("data-node-id"), P = this.nodes[T]; this._R("clickNodeEvent", { node: P }) }, gemOrgStr.prototype._aR = function (w, T) { T[0].preventDefault(); var P = w.getAttribute("data-btn-id"), X = w.getAttribute("data-btn-action"); "del" == X ? this.removeNode(P) : "add" == X ? this.insertNode(P) : "details" == X ? this.showDetailsView(P) : "edit" == X ? this.showEditView(P) : "expColl" == X && this.expandOrCollapse(P) }, gemOrgStr.prototype.showEditView = function (w) { this._S = !0, this.showDetailsView(w) }, gemOrgStr.prototype.expand = function (w, T) { w.collapsed = gemOrgStr.EXPANDED, w.parent == this._zr || null == w.parent ? this.loadFromJSON(this.nodes, !0, T) : this.expand(w.parent, T) }, gemOrgStr.prototype.expandOrCollapse = function (w) { var T = this, P = this.nodes[w]; this._aN = { id: w, old_x: P.x, old_y: P.y }, P.collapsed = P.collapsed == gemOrgStr.EXPANDED ? gemOrgStr.COLLAPSED : gemOrgStr.EXPANDED, this.loadFromJSON(this.nodes, !0, function () { P.collapsed == gemOrgStr.EXPANDED && T.moveToMostDeepChildForNode(P), T._R("updatedEvent") }) }, gemOrgStr.prototype.moveToMostDeepChildForNode = function (w) { var T = gemOrgStr.util._5(this._X); w = w.getMDChild(this.nodes); var P = this.config.siblingSeparation / 2, X = this.config.levelSeparation / 2, L = T.slice(0); switch (this.config.orientation) { case gemOrgStr.C_TOP: case gemOrgStr.TP_LEFT: L[1] = w.y + w.h - T[3] + X, T[1] < L[1] && this.move(L); break; case gemOrgStr.C_BOTTOM: case gemOrgStr.BP_LEFT: L[1] = w.y - X, T[1] > L[1] && this.move(L); break; case gemOrgStr.C_RIGHT: case gemOrgStr.RP_TOP: L[0] = w.x - P, T[0] > L[0] && this.move(L); break; case gemOrgStr.C_LEFT: case gemOrgStr.LP_TOP: L[0] = w.x + w.w - T[2] + P, T[0] < L[0] && this.move(L); } }, gemOrgStr.prototype.insertNode = function (w, T, P) { var X = this, L = this.nodes[w]; this._aN = { id: w, old_x: L.x, old_y: L.y }, null == P && (P = gemOrgStr.util._V(this.nodes)), (null == T || null == T) && (T = {}, this.config.primaryFields.forEach(function (N) { T[N] = N })); var C = this._h(P, w, null, T, !1); return this._R("insertNodeEvent", { node: C }) ? (C.x = L.x, C.y = L.y, this.loadFromJSON(this.nodes, !0, function () { X.moveToMostDeepChildForNode(X.nodes[C.id]), X._R("updatedEvent") }), C) : void this.removeNode(C.id) }, gemOrgStr.prototype.removeNode = function (w) { var T = this; if (this._R("removeNodeEvent", { id: w })) { var P = this.nodes[w], X = P.parent; for (j = 0; j < P.children.length; j++)P.children[j].pid = X.id; var L = this._X.getNodeById(w); L.parentNode.removeChild(L), delete this.nodes[w], this.loadFromJSON(this.nodes, !0, function () { T._R("updatedEvent") }) } }, gemOrgStr.prototype.updateNode = function (w, T, P) { var X = this, L = this.nodes[w]; L.pid = T, L.data = P, this._R("updateNodeEvent", { node: L }) && this.loadFromJSON(this.nodes, !0, function () { X._R("updatedEvent") }) }, gemOrgStr.prototype._h = function (w, T, P, X, L, C) { var N = this.config.customize[w] && this.config.customize[w].theme ? gemOrgStr.themes[this.config.customize[w].theme] : this.theme; L = null == L ? gemOrgStr.NOT_DEFINED : L; var E = new gemOrgStr.node(w, T, P, X, N.size, this.config.photoFields, L, C); if (!this._R("createNodeEvent", { node: E })) return null; for (label in this.nodes[w] ? (E._zU = this.nodes[w].x, E._zJ = this.nodes[w].y) : (E._zU = null, E._zJ = null), this.nodes[w] = E, E.data) gemOrgStr.util._s(this._au, label) || this._au.push(label); return E }, gemOrgStr.prototype.load = function () { var w = this.config.dataSource; w && (w.constructor && -1 < w.constructor.toString().indexOf("HTML") ? this.loadFromHTMLTable(w) : "string" == typeof w ? this.loadFromXML(w) : this.loadFromJSON(w)) }, gemOrgStr.prototype.loadFromJSON = function (w, T, P) { if (this._zv = 0, this._zf = 0, this._zr = new gemOrgStr.node(-1, null, null, null, 2, 2), T) for (var X in w) this.nodes[X] && !this.nodes[X].isVisible() && (this.nodes[X].x = this.nodes[X].parent.x, this.nodes[X].y = this.nodes[X].parent.y), this._h(X, w[X].pid, w[X].spid, w[X].data, w[X].collapsed, w[X].color); else { var L = Object.keys(w[0])[0], C = Object.keys(w[0])[1], N = null; this.config.idField && (L = this.config.idField), this.config.parentIdField && (C = this.config.parentIdField), this.config.secondParentIdField && (N = this.config.secondParentIdField); for (var E = 0; E < w.length; E++) { X = w[E][L]; var O = w[E][C], S = null; delete w[E][L], delete w[E][C], null != N && (S = w[E][N], delete w[E][N]), this._h(X, O, S, w[E]) } } for (var X in this.nodes) if (B = this.nodes[X], (I = this.nodes[B.pid]) || (I = this._zr), B.parent = I, A = I.children.length, I.children[A] = B, null != B.spid) { var M = this.nodes[B.spid]; B.secondParent = M; var R = M.secondChildren.length; M.secondChildren[R] = B } if (this.config.layout == gemOrgStr.H_RIGHT) for (var X in this.nodes) { var B = this.nodes[X], I = this.nodes[B.pid], D = X; if (0 == B.children.length) for (z = I.children.length - 1; 0 <= z; z--) { var F = I.children[z]; if (0 == F.children.length && F != this.nodes[D] && null == F.displayPid && null == F.displayChildren) { null == this.nodes[D].color && (this.nodes[D].color = gemOrgStr.util._1(this.config.color)), F.color = this.nodes[D].color, F.displayPid = D, F.displayParent = this.nodes[D], null == this.nodes[D].displayChildren && (this.nodes[D].displayChildren = []); var A = this.nodes[D].displayChildren.length; this.nodes[D].displayChildren[A] = F, D = F.id } } } this.draw(P) }, gemOrgStr.prototype.loadFromHTMLTable = function (w) { for (var T = w.rows[0], P = [], X = 1; X < w.rows.length; X++) { for (var L, C = w.rows[X], N = {}, E = 0; E < C.cells.length; E++)L = C.cells[E], N[T.cells[E].innerHTML] = L.innerHTML; P.push(N) } this.loadFromJSON(P) }, gemOrgStr.prototype.loadFromXML = function (w) { var T = this, P = []; get._a._T(w, null, function (X) { T._ai = 0, T._am(X, null, !0, P), T.loadFromJSON(P) }, "xml") }, gemOrgStr.prototype.loadFromXMLDocument = function (w) { var T = [], P = gemOrgStr.util._zS(w); this._ai = 0, this._am(P, null, !0, T), this.loadFromJSON(T) }, gemOrgStr.prototype._am = function (w, T, P, X) { if (1 == w.nodeType && 0 < w.attributes.length) { var L = {}; this._ai++ , L.id = this._ai, L.pid = T; for (var C, N = 0; N < w.attributes.length; N++)C = w.attributes.item(N), L[C.nodeName] = C.nodeValue; X.push(L), P && (P = !1) } if (w.hasChildNodes()) { P || (T = this._ai); for (var E, O = 0; O < w.childNodes.length; O++)E = w.childNodes.item(O), E.nodeName, 3 != E.nodeType && this._am(E, T, P, X) } }, "undefined" == typeof get && (get = {}), get._a = {}, get._a._zN = function () { return window.XMLHttpRequest ? new XMLHttpRequest : new ActiveXObject("Microsoft.XMLHTTP") }, get._a._zo = function (w, T, P, X, L, C) { var N = get._a._zN(); N.open(P, w, C), N.onreadystatechange = function () { if (!(get._c().msie || "xml" != X || 4 != N.readyState)) T(N.responseXML); else if (get._c().msie && "xml" == X && 4 == N.readyState) try { var E = new DOMParser().parseFromString(N.responseText, "text/xml"); T(E) } catch (O) { (E = new ActiveXObject("Microsoft.XMLDOM")).loadXML(N.responseText), T(E) } else 4 == N.readyState && T(N.responseText) }, "POST" == P && N.setRequestHeader("Content-type", "application/x-www-form-urlencoded"), N.send(L) }, get._a._T = function (w, T, P, X, L) { var C = []; for (var N in T) C.push(encodeURIComponent(N) + "=" + encodeURIComponent(T[N])); get._a._zo(w + "?" + C.join("&"), P, "GET", X, null, L) }, get._a._a6 = function (w, T, P, X, L) { var C = []; for (var N in T) C.push(encodeURIComponent(N) + "=" + encodeURIComponent(T[N])); get._a._zo(w, P, "POST", X, C.join("&"), L) }, gemOrgStr.prototype._y = function (w, T) { var P = T[0]; if (P.preventDefault(), new Date().getTime(), 1 == T[0].touches.length) { var X = gemOrgStr.util._5(this._X); this._aO.dragStart = { x: T[0].touches[0].pageX - this._X._t.offsetLeft, y: T[0].touches[0].pageY - this._X._t.offsetTop, viewBoxLeft: X[0], viewBoxTop: X[1] } } 2 == T[0].touches.length && (this._aO.dragStart = null, this._p = null, this._a2 = gemOrgStr.util._a1(this._X._v, P)) }, gemOrgStr.prototype._b = function (w, T) { if (T[0].preventDefault(), 1 == T[0].touches.length && (this._X._n = void 0, this._aO.dragStart)) { var P = T[0].touches[0].pageX - this._X._t.offsetLeft, X = T[0].touches[0].pageY - this._X._t.offsetTop; this._X._t.style.cursor = "move"; var L = gemOrgStr.util._5(this._X), C = L[2] / this._aP, N = L[3] / this._aL, E = C > N ? C : N; L[0] = -(P - this._aO.dragStart.x) * E + this._aO.dragStart.viewBoxLeft, L[1] = -(X - this._aO.dragStart.y) * E + this._aO.dragStart.viewBoxTop, L[0] = parseInt(L[0]), L[1] = parseInt(L[1]), this._X._v.setAttribute("viewBox", L.toString()) } if (2 == T[0].touches.length) { var O = gemOrgStr.util._a1(this._X._v, T[0]), S = 1 + (O - this._a2) / (this._a2 / 100) / 100, M = gemOrgStr.util._a3(this._X._v, T[0]); this.zoom(S, null, M), this._a2 = O } }, gemOrgStr.prototype._g = function (w, T) { T[0].preventDefault(), new Date().getTime() }, gemOrgStr.prototype._aH = function (w, T) { var P = T[0]; P.preventDefault(), this._aF(w, T), this._aT(w, T); var X = new Date().getTime(); if (null == this._aV) this._aV = { time: X }; else if (P.touches && P.touches.length && 1 < P.touches.length) this._aV = null; else if (this.config.orgDblClick) { var L = X - this._aV.time; if (400 > L && 0 < L) { this._aO.dragStart = null; var C = w.getAttribute("data-node-id"), N = this.nodes[C], E = gemOrgStr.util._5(this._X), O = E.slice(0); if (this._aV.viewBox && this._aV.id == C) this.move(this._aV.viewBox), this._aV = null; else { var S = (O = gemOrgStr.util._5(this._X))[2] / O[3]; O[2] = 1.5 * N.w, O[3] = O[2] / S, O[0] = N.x - N.w / 4, O[1] = N.y - O[3] / 2 + N.h / 2, this.move(O), this._aV.viewBox && (E = this._aV.viewBox), this._aV = { id: C, viewBox: E } } } this._aV && (this._aV.time = X) } else this._aV = null }, gemOrgStr.prototype._aY = function (w, T) { T[0].preventDefault() }, gemOrgStr.prototype._aB = function (w, T) { var P = T[0]; P.preventDefault(), P.touches && P.touches.length && 0 == P.touches.length && (this._aV = null) }, gemOrgStr.themes.gemOrgTheme = { size: [280, 300], toolbarHeight: 46, textPoints: [{ x: 135, y: 45, width: 270 }, { x: 135, y: 75, width: 270 }], txtPtNoImage: [{ x: 135, y: 45, width: 270 }, { x: 135, y: 75, width: 270 }], lnkRadius: 20, defs: "<filter id=\"f1\" x=\"0\" y=\"0\" width=\"200%\" height=\"200%\"><feOffset result=\"offOut\" in=\"SourceAlpha\" dx=\"5\" dy=\"5\" /><feGaussianBlur result=\"blurOut\" in=\"offOut\" stdDeviation=\"5\" /><feBlend in=\"SourceGraphic\" in2=\"blurOut\" mode=\"normal\" /></filter>", box: "<rect x=\"0\" y=\"0\" height=\"300\" width=\"270\" rx=\"10\" ry=\"10\" class=\"gemOrgTheme-box\" filter=\"url(#f1)\"  />", text: "<text text-anchor=\"middle\" width=\"[width]\" class=\"gem-text gem-text-[index]\" x=\"[x]\" y=\"[y]\">[text]</text>", image: "<clipPath id=\"gemOrgClip\"><circle cx=\"140\" cy=\"185\" r=\"100\" /></clipPath><image preserveAspectRatio=\"xMidYMid slice\" clip-path=\"url(#gemOrgClip)\" xlink:href=\"[href]\" x=\"40\" y=\"85\" height=\"200\" width=\"200\"/>", reporters: "<circle cx=\"55\" cy=\"120\" r=\"20\" class=\"reporters\" display=\"[hasChild]\"></circle><text class=\"reporters-text\" display=\"[hasChild]\" text-anchor=\"middle\" width=\"100\" x=\"55\" y=\"125\">[reporters]</text>" }; var popOverSettings = { trigger: "manual", html: !0, animation: !1, placement: function (w, T) { var P = $(T).offset(), X = $(document).outerHeight(), L = $(document).outerWidth(), C = 0.5 * X - P.top, N = 0 < C ? "bottom" : "top", E = 0.5 * L - P.left, O = 0 < E ? "right" : "left", S = Math.abs(E) > Math.abs(C) ? O : N; return S }, content: function () { var w = $(this).attr("data-node-id"), T = pstr.nodes[w], P = ""; if (T && T.data && odt) { var X = getMatchedObject({ Id: w }, odt), L = X.TopNSkills, C = [], N = ""; if (L && (C = L.split(","), C && 0 < C.length)) for (var E = 0; E < C.length; E++)C[E] && "N/A" !== C[E] && "NA" !== C[E] && (N += "<span class=\"skills bg-1\">" + C[E] + "</span>"); P = "<div id=\"profileSummary\"><div class=\"employee\"><div class=\"emp-image\"><img src=\"" + X.ImagePath + "\" title=\"" + X.Name + "\" /></div><div class=\"emp-details\"><p class=\"profile-header\">" + X.Name + "</p><table><tbody>", X.TeamName && "none" != X.TeamName.toLowerCase() && (P += "<tr><td>Team</td><td>" + X.TeamName + "</td></tr>"), X.OnshoreManager && "none" != X.OnshoreManager.toLowerCase() && (P += "<tr><td>Onshore Mgr.</td><td>" + X.OnshoreManager + "</td></tr>"), X.OnshoreManager && "none" !== X.OnshoreManager.toLowerCase() ? X.OffshoreManager && "none" != X.OffshoreManager.toLowerCase() && (P += "<tr><td>Offshore Mgr.</td><td>" + X.OffshoreManager + "</td></tr>") : X.OffshoreManager && "none" != X.OffshoreManager.toLowerCase() && (P += "<tr><td>Manager</td><td>" + X.OffshoreManager + "</td></tr>"), X.TotalExperience && "none" != X.TotalExperience.toString().toLowerCase() && (P += "<tr><td>Total Exp.</td><td>" + (1 < X.TotalExperience ? X.TotalExperience + " Months" : X.TotalExperience + " Month") + "</td></tr>"), X.PimcoTenure && "none" != X.PimcoTenure.toString().toLowerCase() && (P += "<tr><td>PIMCO Exp.</td><td>" + (1 < X.PimcoTenure ? X.PimcoTenure + " Months" : X.PimcoTenure + " Month") + "</td></tr>"), P += "</tbody></table></div></div>", P += "<div class=\"emp-skills\">" + ("N/A" == N || "NA" == N ? " " : N) + "</div><div class=\"emp-summary\">", P += "<p>" + ("N/A" === X.ProfileSummary || "NA" === X.ProfileSummary ? " " : X.ProfileSummary) + "</p></div></div>" } return P } }; function mouseoverListener() { var w = document.querySelectorAll("g[class^='gem-level-']:not(.gem-level-1)"); for (i = 0; i < w.length; i++)$(w[i]).popover(popOverSettings).on("mouseenter", function () { var T = this; $(this).popover("show"), $(".popover").on("mouseleave", function () { $(T).popover("hide") }) }).on("mouseleave", function () { var T = this; setTimeout(function () { $(".popover:hover").length || $(T).popover("hide") }, 80) }) }